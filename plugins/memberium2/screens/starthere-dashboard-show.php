<?php
 if (!defined('ABSPATH' ) ) { die(); } ?>
<style>
	.membWarning {
		font-weight:bold;
		color:red;
	}
	.membGood {
		font-weight:bold;
		color:green;
	}
</style>
<?php
 global $wpdb; memberium_app()->wpalm4is_xw91e_2pl('view_dashboard' ); $vwpalm4is_ne17fdv8uw4 = wpalm4is_xb7t0i6pzn::wpalm4is_s0xuab5fq6hy('settings' ); $vwpalm4is_la4pzw = wpalm4is_xb7t0i6pzn::wpalm4is_s0xuab5fq6hy('memberships' ); $vwpalm4is_dd4j20qwmn_ = wpalm4is_xb7t0i6pzn::wpalm4is_mz346l5qyv('appname' ); $vwpalm4is_vsmw53_cfzn = get_option('i2sdk' ); $vwpalm4is_tah5ud2 = wpalm4is_rvrqgfe5ns_::wpalm4is_near23(); $vwpalm4is_br1lbhnue = (! empty($vwpalm4is_la4pzw ) ) ? count($vwpalm4is_la4pzw ) : 0; $vwpalm4is_ttuymbl = get_option('memberium_tables_updated', array() ); $vwpalm4is_tp4kj93ghye = wpalm4is_dwrme417cz::wpalm4is_j0fcxj4(); if (class_exists('wpalm4is_gfgl50' ) ) { $vwpalm4is_c7mtnb9z = empty($vwpalm4is_ne17fdv8uw4['session_timeout'] ) ? ini_get('session.gc_maxlifetime' ) : $vwpalm4is_ne17fdv8uw4['session_timeout']; wpalm4is_gfgl50::wpalm4is_i087ke($vwpalm4is_ne17fdv8uw4['session_timeout'] ); } if (count($vwpalm4is_tp4kj93ghye) > 0 ) { wpalm4is_c4al9t::wpalm4is_t2ha6gindw(); } $vwpalm4is_ttuymbl['tags'] = isset($vwpalm4is_ttuymbl['tags'] ) ? $vwpalm4is_ttuymbl['tags'] : 0; $vwpalm4is_ttuymbl['tagcategories'] = isset($vwpalm4is_ttuymbl['tagcategories'] ) ? $vwpalm4is_ttuymbl['tagcategories'] : 0; $vwpalm4is_ttuymbl['actionsets'] = isset($vwpalm4is_ttuymbl['actionsets'] ) ? $vwpalm4is_ttuymbl['actionsets'] : 0; $vwpalm4is_ttuymbl['i2sdk_customfields'] = isset($vwpalm4is_ttuymbl['i2sdk_customfields'] ) ? $vwpalm4is_ttuymbl['i2sdk_customfields'] : 0; $vwpalm4is_ttuymbl['products'] = isset($vwpalm4is_ttuymbl['products'] ) ? $vwpalm4is_ttuymbl['products'] : 0; $vwpalm4is_ttuymbl['affiliates'] = isset($vwpalm4is_ttuymbl['affiliates'] ) ? $vwpalm4is_ttuymbl['affiliates'] : 0; $vwpalm4is_ttuymbl['invoices'] = isset($vwpalm4is_ttuymbl['invoices'] ) ? $vwpalm4is_ttuymbl['invoices'] : 0; $vwpalm4is_osbxqc = false; set_time_limit(30 ); if (empty($_GET['nosync'] ) ) { $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['tags'] ) ? $vwpalm4is_ttuymbl['tags'] : 0; if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 1800 ) { wpalm4is_bd5uye4ng3l::wpalm4is_lpkn9t(); $vwpalm4is_ttuymbl['tags'] = time(); $vwpalm4is_osbxqc = true; update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); set_time_limit(30 ); } $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['tagcategories'] ) ? $vwpalm4is_ttuymbl['tagcategories'] : 0; if (! $vwpalm4is_osbxqc ) { if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 1800 ) { memberium_app()->wpalm4is_sh53_jivqsm(); $vwpalm4is_ttuymbl['tagcategories'] = time(); $vwpalm4is_osbxqc = true; update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); set_time_limit(30 ); } } $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['actionsets'] ) ? $vwpalm4is_ttuymbl['actionsets'] : 0; if (! $vwpalm4is_osbxqc ) { if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 3600 ) { memberium_app()->wpalm4is_bg2lti4(); $vwpalm4is_ttuymbl['actionsets'] = time(); set_time_limit(30 ); $vwpalm4is_osbxqc = true; } update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); } $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['i2sdk_customfields'] ) ? $vwpalm4is_ttuymbl['i2sdk_customfields'] : 0; if (! $vwpalm4is_osbxqc ) { if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 3600 ) { global $i2sdk; $i2sdk->syncCustomFields(); $vwpalm4is_ttuymbl['i2sdk_customfields'] = time(); set_time_limit(30 ); $vwpalm4is_osbxqc = true; } update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); } $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['products'] ) ? $vwpalm4is_ttuymbl['products'] : 0; if (! $vwpalm4is_osbxqc ) { if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 3600 ) { wpalm4is_bd5uye4ng3l::wpalm4is_mr2msy(); $vwpalm4is_ttuymbl['products'] = time(); set_time_limit(30 ); $vwpalm4is_osbxqc = true; } update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); } $vwpalm4is_mni4ov = isset($vwpalm4is_ttuymbl['invoices'] ) ? $vwpalm4is_ttuymbl['invoices'] : 0; if (! empty($vwpalm4is_ne17fdv8uw4['sync_ecommerce'] ) ) { if (! $vwpalm4is_osbxqc ) { if ($vwpalm4is_mni4ov == 0 || (time() - $vwpalm4is_mni4ov ) > 3600 ) { memberium_app()->wpalm4is_equrvgo2(); $vwpalm4is_ttuymbl['invoices'] = time(); set_time_limit(30 ); $vwpalm4is_osbxqc = true; } update_option('memberium_tables_updated', $vwpalm4is_ttuymbl, false ); } }  } set_time_limit(30 ); $vwpalm4is_uuz9g0 = array(); foreach($vwpalm4is_ttuymbl as $vwpalm4is_x3e6m_hobj => $vwpalm4is_kh9vqi_6znd ) { $vwpalm4is_uuz9g0[$vwpalm4is_x3e6m_hobj] = abs(intval( ($vwpalm4is_kh9vqi_6znd - time() ) / 3600 ) ); } $vwpalm4is_q35jf97eg4 = $wpdb->postmeta; $vwpalm4is_cevdqnb5lzm = "SELECT count(DISTINCT `post_id` ) FROM `{$vwpalm4is_q35jf97eg4}` WHERE meta_key LIKE '_is4wp%' AND meta_value > '';"; $vwpalm4is_qew1va_qkn7 = (int)$wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_CONTACTS; $vwpalm4is_cevdqnb5lzm = "SELECT count(`id`) from `{$vwpalm4is_q35jf97eg4}` WHERE `fieldname` = 'Id' AND `appname` = '{$vwpalm4is_dd4j20qwmn_}' "; $vwpalm4is_m7k0qh3 = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_SESSIONS; $vwpalm4is_cevdqnb5lzm = "SELECT count(`session_key`) from `{$vwpalm4is_q35jf97eg4}` WHERE `email_key` > '' "; $vwpalm4is_ebe87x = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_ACTIONSETS; $vwpalm4is_cevdqnb5lzm = "SELECT count(`id`) from `{$vwpalm4is_q35jf97eg4}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_de85ayr2xnu = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_PRODUCTS; $vwpalm4is_cevdqnb5lzm = "SELECT count(`id`) from `{$vwpalm4is_q35jf97eg4}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_tmjw15p = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_DATAFORMFIELDS; $vwpalm4is_cevdqnb5lzm = "SELECT count(`id`) from `{$vwpalm4is_q35jf97eg4}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_nvn3et5 = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_CONTACTGROUPCATEGORIES; $vwpalm4is_cevdqnb5lzm = "SELECT count(`id`) from `{$vwpalm4is_q35jf97eg4}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_us81kufcpa = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_TAGS; $vwpalm4is_cevdqnb5lzm = "SELECT count(id) from {$vwpalm4is_q35jf97eg4} WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}' "; $vwpalm4is_uitzw2av76h = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = i2sdk_class::DB_API_LOG; $vwpalm4is_cevdqnb5lzm = "SELECT count(*) from {$vwpalm4is_q35jf97eg4} WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}' "; $vwpalm4is_uwzatq2 = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_AFFILIATES; $vwpalm4is_cevdqnb5lzm = "SELECT count(*) from `{$vwpalm4is_q35jf97eg4}` WHERE `fieldname` = 'Id' AND `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_vc1gitfu = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_INVOICES; $vwpalm4is_cevdqnb5lzm = "SELECT count(*) from `{$vwpalm4is_q35jf97eg4}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}'"; $vwpalm4is_tl_atpk2x = $wpdb->get_var($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_am9rq4en81bh = count(array_filter(explode(',', trim($vwpalm4is_ne17fdv8uw4['ignore_tag_categories'], ',' ) ) ) ); $vwpalm4is_j3ex8wtdm = count(array_filter(explode(',', $vwpalm4is_ne17fdv8uw4['ignore_contact_fields'] ) ) ); if (wpalm4is_rvrqgfe5ns_::wpalm4is_c8me3ltrxcn4() ) { $vwpalm4is_r_iub593 = '<strong class="membGood">Active</strong>'; $vwpalm4is_a6ajr1x_kh = wpalm4is_rvrqgfe5ns_::wpalm4is_m1ufj92cv45(get_option(memberium_app()->license_key_name, '' ) ); if ($vwpalm4is_a6ajr1x_kh['trial_mode'] ) { $vwpalm4is_r_iub593 = '<strong class="membGood">Trial Mode</strong> <strong class="membWarning">(Limited to ' . $vwpalm4is_a6ajr1x_kh['max_users'] . ' Users )</strong>'; } } else { $vwpalm4is_r_iub593 = '<strong class="membWarning">Inactive</strong> '; } unset($vwpalm4is_a8f_4d7xv0yw, $vwpalm4is_a6ajr1x_kh ); $vwpalm4is_q8ea30sqj1t2 = (wpalm4is_aznwrha4::wpalm4is_iirgtfjk6h() <> $_SERVER['REMOTE_ADDR'] ); if (empty($vwpalm4is_vsmw53_cfzn['app_name'] ) || empty($vwpalm4is_vsmw53_cfzn['api_key'] ) ) { $vwpalm4is_vsmw53_cfzn['server_verified'] = false; } $vwpalm4is_qs6lbv3o = count(get_option('cron', array() ) ); echo '<h3>Infusionsoft Connection</h3>'; echo '<form method="post" action="">'; echo '<label>App Name</label><strong>', empty($vwpalm4is_vsmw53_cfzn['app_name'] ) ? '<span class="membWarning">Missing</span>' : strtoupper($vwpalm4is_vsmw53_cfzn['app_name'] ), '</strong><br />'; echo '<label>API Status</label>', (boolean) $vwpalm4is_vsmw53_cfzn['server_verified'] ? '<strong class="membGood">Connected</strong>' : '<strong class="membWarning">Not Connected</strong>', '<br />'; echo '<label>License Status</label>', $vwpalm4is_r_iub593, '<br />'; echo '<p>'; echo '<input type="submit" name="save" value="Renew License" class="button-primary" style="margin-right:20px;">'; echo '<input type="submit" name="save" value="Re-Activate Plugin" class="button-primary">'; echo '</p>'; echo '<h3>Infusionsoft Data Metrics</h3>'; echo '<label>Synced Actionsets</label><span class="metric">', $vwpalm4is_de85ayr2xnu, '</span> (', wpalm4is_yf0g75hqk184::wpalm4is_igm9y08($vwpalm4is_ttuymbl['actionsets'] ), ')<br />'; echo '<label>Synced Custom Fields</label><span class="metric">', $vwpalm4is_nvn3et5, '</span> (', wpalm4is_yf0g75hqk184::wpalm4is_igm9y08($vwpalm4is_ttuymbl['i2sdk_customfields'] ), ')<br />'; echo '<label>Synced Tag Categories</label><span class="metric">', $vwpalm4is_us81kufcpa, '</span> (', wpalm4is_yf0g75hqk184::wpalm4is_igm9y08($vwpalm4is_ttuymbl['tagcategories'] ), ')<br />'; echo '<label>Synced Tags</label><span class="metric">', $vwpalm4is_uitzw2av76h, '</span> (', wpalm4is_yf0g75hqk184::wpalm4is_igm9y08($vwpalm4is_ttuymbl['tags'] ), ')<br />'; echo '<label>Synced Invoices</label><span class="metric">', $vwpalm4is_tl_atpk2x, '</span> (', wpalm4is_yf0g75hqk184::wpalm4is_igm9y08($vwpalm4is_ttuymbl['invoices'] ), ')<br />'; echo '<label>Blocked Fields</label><span class="metric">', (empty($vwpalm4is_j3ex8wtdm ) ? 0 : '<strong class="membWarning">' . $vwpalm4is_j3ex8wtdm .'</strong>' ), '</span><br />'; echo '<label>Blocked Tag Categories</label><span class="metric">', (empty($vwpalm4is_am9rq4en81bh ) ? 0 : '<strong class="membWarning">' . $vwpalm4is_am9rq4en81bh .'</strong>' ), '</span><br />'; echo '<label>Cached Affiliates</label><span class="metric">', $vwpalm4is_vc1gitfu, '</span><br />'; echo '<label>Cached Contacts</label><span class="metric">', $vwpalm4is_m7k0qh3, '</span><br />'; echo '<label>Active Sessions</label><span class="metric">', $vwpalm4is_ebe87x, '</span><br />'; echo '<label>API Log Entries</label><span class="metric">', $vwpalm4is_uwzatq2, '</span><br />'; echo '<p>'; echo '<input type="submit" name="save" value="Synchronize Infusionsoft" class="button-primary"> ', wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2(8470 ); echo '</p>'; echo '<h3>System Metrics</h3>'; if (MEMBERIUM_BETA ) { echo '<label>Beta Mode</label><span class="metric"><strong class="membWarning">Beta</strong></span><br />'; } if (MEMBERIUM_DEBUG ) { echo '<label>Debug Mode</label><span class="metric"><strong class="membWarning">ON</strong></span><br />'; } if (WP_DEBUG ) { echo '<label>WordPress Debug Mode</label><span class="metric"><strong class="membWarning">ON</strong></span><br />'; } $vwpalm4is_i1txzhwrgip = false; $vwpalm4is_sf9tqcp3 = wp_login_url() . '?action=override&affiliate=0'; $vwpalm4is_g87myl0d = array( 'sslverify' => false, ); $vwpalm4is_n0wrho_2u = wp_remote_get($vwpalm4is_sf9tqcp3, $vwpalm4is_g87myl0d ); if (is_array($vwpalm4is_n0wrho_2u ) ) { $vwpalm4is_i1txzhwrgip = stripos($vwpalm4is_n0wrho_2u['body'], '<meta name="generator" content="Memberium v' ); } unset($vwpalm4is_n0wrho_2u ); $vwpalm4is_e7kodm = count(get_plugin_updates() ); $vwpalm4is_vxju8zwa = count(get_theme_updates() ); $vwpalm4is_hg9t6k2 = get_core_updates(); $vwpalm4is_ayret06miqx5 = get_bloginfo('version'); $vwpalm4is_zi21mndw = 0; if (is_array($vwpalm4is_hg9t6k2 ) ) { foreach($vwpalm4is_hg9t6k2 as $vwpalm4is__i1lyv507t6 ) { $vwpalm4is_zi21mndw += (int) version_compare($vwpalm4is__i1lyv507t6->version, $vwpalm4is_ayret06miqx5, '>' ); } } unset($vwpalm4is_hg9t6k2, $vwpalm4is__i1lyv507t6, $vwpalm4is_ayret06miqx5 ); echo '<hr>'; if ($vwpalm4is_zi21mndw ) echo '<label>Missing Core Updates</label><span class="metric membWarning">', $vwpalm4is_zi21mndw, '</span><br />'; if ($vwpalm4is_e7kodm ) echo '<label>Missing Plugin Updates</label><span class="metric membWarning">', $vwpalm4is_e7kodm, '</span><br />'; if ($vwpalm4is_vxju8zwa ) echo '<label>Missing Theme Updates</label><span class="metric membWarning">', $vwpalm4is_vxju8zwa, '</span><br />'; if ($vwpalm4is_zi21mndw || $vwpalm4is_e7kodm || $vwpalm4is_vxju8zwa ) { echo '<hr>'; } echo '<label>Memberium Running on Front End</label><span class="metric">', ($vwpalm4is_i1txzhwrgip ) ? '<strong class="membGood">Yes' : '<strong class="membWarning">No/Unknown', '</strong></span><br />'; echo '<label>Membership Levels</label><span class="metric">', $vwpalm4is_br1lbhnue, '</span><br />'; echo '<label>Protected Pages/Posts</label><span class="metric">', $vwpalm4is_qew1va_qkn7, '</span><br />'; echo '<hr>'; echo '<label>WordPress SSL</label><span class="metric">', is_ssl() ? '<strong style="color:green;">Yes</strong>' : '<strong style="color:red;">No</strong>', '</span><br />'; echo '<label>WordPress User Count</label><span class="metric">', $vwpalm4is_tah5ud2, '</span><br />'; echo '<label>Wordpress Multisite</label><span class="metric"><strong>', is_multisite() ? 'Yes' : 'No', '</strong></span><br />'; echo '<label>Wordpress Super Admin</label><span class="metric">', is_super_admin() ? '<strong class="membGood">Yes' : '<strong class="membWarning">No', '</strong></span><br />'; echo '<label>WordPress Cron Jobs</label><span class="metric">', $vwpalm4is_qs6lbv3o, '</span><br />'; echo '<hr>'; echo '<label>SKU</label><span class="metric">', strtoupper(MEMBERIUM_SKU), '</span><br />'; echo '<label>WordPress Version</label><span class="metric">', get_bloginfo('version' ), '</span><br />'; echo '<label>Memory Used</label><span class="metric">', intval(memory_get_usage(true ) / (1024 * 1024 ) ), 'MB</span><br />'; echo '<label>WordPress Memory Limit</label><span class="metric">', intval(WP_MEMORY_LIMIT ), 'MB</span><br />'; echo '<label>Max Memory Limit</label><span class="metric">', intval(WP_MAX_MEMORY_LIMIT ), 'MB</span><br />'; echo '<label>PHP Memory Allocated</label><span class="metric">', ini_get('memory_limit' ), 'B</span><br />'; echo '<hr>'; $vwpalm4is_ng3d20 = defined('I2SDK_VERSION') ? I2SDK_VERSION : '<strong class="membWarning">None</strong>'; $vwpalm4is_t3gzvf70wc6 = property_exists('PhpXmlRpc\PhpXmlRpc', 'xmlrpcVersion' ) ? PhpXmlRpc\PhpXmlRpc::$xmlrpcVersion : '<strong class="membWarning">Unknown</strong>'; echo '<label>i2SDK Version</label><span class="metric">', $vwpalm4is_ng3d20, '</span><br />'; echo '<label>XML RPC Library Version</label><span class="metric">', $vwpalm4is_t3gzvf70wc6, '</span><br />'; echo '<label>PHP Version</label><span class="metric">', phpversion(), '</span><br />'; echo '<label>Operating System</label><span class="metric">', php_uname('s' ), ' ', php_uname('m' ), '</span><br />'; echo '<label>Display Errors</label><span class="metric">', ini_get('display_errors' ) ? '<strong class="membWarning">Yes' : '<strong class="membGood">No', '</strong></span><br />'; if (function_exists('ioncube_loader_version' ) ) { echo '<label>IonCube Loader Version</label><span class="metric">', ioncube_loader_version(), '</span><br />'; } echo '<label>Load Balancer / Proxy</label><span class="metric">', $vwpalm4is_q8ea30sqj1t2 ? '<strong class="membGood">Yes</strong>' : 'No' , '</span><br />'; echo '</form>';
