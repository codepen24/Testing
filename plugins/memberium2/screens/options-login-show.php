<?php
/**
 * Copyright (c) 2012-2020 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 if (!defined('ABSPATH' ) ) { die(); } global $wpdb; $vwpalm4is_dd4j20qwmn_ = wpalm4is_xb7t0i6pzn::wpalm4is_mz346l5qyv('appname'); $vwpalm4is_ne17fdv8uw4 = wpalm4is_xb7t0i6pzn::wpalm4is_s0xuab5fq6hy('settings'); $vwpalm4is_vsmw53_cfzn = stripslashes_deep(get_option('i2sdk') ); $vwpalm4is_cevdqnb5lzm = 'SELECT count(*) FROM ' . MEMBERIUM_DB_ACTIONSETS . ' WHERE `appname` = %s AND `name` > "" ORDER BY `name` ASC'; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $vwpalm4is_dd4j20qwmn_ ); $vwpalm4is_de85ayr2xnu = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A ); $vwpalm4is_cevdqnb5lzm = 'SELECT concat(\'_\', name) as name FROM ' . MEMBERIUM_DB_DATAFORMFIELDS . ' WHERE `appname` = "' . $vwpalm4is_dd4j20qwmn_ . '" AND datatype = 15 AND formid = -1 ORDER BY name ASC'; $vwpalm4is_iomhdlzi73g5 = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A ); $vwpalm4is_nenct09pgo = ''; $vwpalm4is_uhlcdntrv = ''; $vwpalm4is_jmz7lfg = 1; $vwpalm4is_o5671tu = array( 'Email',   ); if ($vwpalm4is_ne17fdv8uw4['username_field'] <> 'Email') { $vwpalm4is_o5671tu[] = $vwpalm4is_ne17fdv8uw4['username_field']; $vwpalm4is_jmz7lfg = 2; } foreach($vwpalm4is_o5671tu as $vwpalm4is_x1folrs ) { $vwpalm4is_nenct09pgo .= "<option value='{$vwpalm4is_x1folrs}' " . ( ($vwpalm4is_x1folrs == $vwpalm4is_ne17fdv8uw4['username_field'] ) ? ' selected="selected" ' : '' ) . ">{$vwpalm4is_x1folrs}</option>"; } $vwpalm4is_o5671tu = array( 'Password', ); foreach($vwpalm4is_o5671tu as $vwpalm4is_x1folrs ) { $vwpalm4is_uhlcdntrv .= "<option value='{$vwpalm4is_x1folrs}' " . ( ($vwpalm4is_x1folrs == $vwpalm4is_ne17fdv8uw4['password_field'] ) ? ' selected="selected" ' : '' ) . ">{$vwpalm4is_x1folrs}</option>"; } foreach ($vwpalm4is_iomhdlzi73g5 as $id => $vwpalm4is_hs69ar ) {  $vwpalm4is_uhlcdntrv.= '<option value="' . $vwpalm4is_hs69ar['name'] . '" ' . ( ($vwpalm4is_hs69ar['name'] == $vwpalm4is_ne17fdv8uw4['password_field'] ) ? ' selected="selected" ' : '' ) . '>' . $vwpalm4is_hs69ar['name'] . '</option>'; } $vwpalm4is_wn2_0bx7 = count($vwpalm4is_iomhdlzi73g5 ); unset($vwpalm4is_iomhdlzi73g5, $vwpalm4is_x1folrs, $vwpalm4is_hs69ar, $id); echo '<form method="POST" action="">'; wp_nonce_field(MEMBERIUM_LIB, 'memberium_options_nonce' ); echo '<h3>Login Fields</h3>'; echo '<ul>'; if ($vwpalm4is_jmz7lfg > 1) { echo '<li><label>Infusionsoft Username Field</label>'; echo '<select id="username_field" name="username_field" class="basic-single" style="width:250px;">'; echo $vwpalm4is_nenct09pgo; echo '</select>', wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2(1169 ), '</li>'; } echo '<li><label>Infusionsoft Password Field</label>'; echo '<select id="password_field" name="password_field" class="basic-single" style="width:250px;">'; echo $vwpalm4is_uhlcdntrv; echo '</select>', wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2(1171 ), ' <strong style="color:red">IMPORTANT: Please Read</strong></li>'; if ($vwpalm4is_ne17fdv8uw4['password_field'] == 'Password' ) { echo '<li><label>Create New Password Field</label>'; echo '<input type="text" name="new_password_field" size="20" value="" />'; echo wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2(5733 ), '</li>'; } echo '<hr>'; echo '<h3>Login Options</h3>'; wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Known Logins Only', 'known_logins_only', 6773, $vwpalm4is_ne17fdv8uw4['known_logins_only'] ); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Allow Local Logins', 'allow_local_logins', 6367, $vwpalm4is_ne17fdv8uw4['allow_local_logins'] ); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Local Auth Only', 'local_auth_only', 6818, $vwpalm4is_ne17fdv8uw4['local_auth_only'] ); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Prevent Simultaneous Logins', 'simultaneous_logins', 1197, $vwpalm4is_ne17fdv8uw4['simultaneous_logins'] ); wpalm4is_yf0g75hqk184::wpalm4is_kdfb73nti6c('Maximum Login IPs', 'maximum_login_ips', $vwpalm4is_ne17fdv8uw4['maximum_login_ips'], array('min' => 0, 'max' => 256 ) ); wpalm4is_yf0g75hqk184::wpalm4is_kdfb73nti6c('Maximum Login Window (Hours)', 'maximum_login_timeframe', $vwpalm4is_ne17fdv8uw4['maximum_login_timeframe'], array('min' => 0, 'max' => 672 ) ); echo '<hr>'; echo '<h3>Login/Logout Actions</h3>'; wpalm4is_yf0g75hqk184::wpalm4is_h60alck( 'Login Page <strong style="color:red;">(Caution)</strong>', 'login_url', (int) $vwpalm4is_ne17fdv8uw4['login_url'], 'pagelistdropdown', array('help_id' => 1208 ) ); if ($vwpalm4is_de85ayr2xnu > 0) { if (true || ! empty($vwpalm4is_ne17fdv8uw4['login_actionset']) ) { wpalm4is_yf0g75hqk184::wpalm4is_h60alck( 'Login Actionset', 'login_actionset', $vwpalm4is_ne17fdv8uw4['login_actionset'], 'actionsetdropdown', array('help_id' => 1175 ) ); } if (true || ! empty($vwpalm4is_ne17fdv8uw4['logout_actionset']) ) { wpalm4is_yf0g75hqk184::wpalm4is_h60alck( 'Logout Actionset', 'logout_actionset', $vwpalm4is_ne17fdv8uw4['logout_actionset'], 'actionsetdropdown', array('help_id' => 1178 ) ); } } $vwpalm4is__mnral5zjy = i2sdk_class::DB_DATAFORMFIELDS; $vwpalm4is_cevdqnb5lzm = "SELECT concat('_', name) as name FROM `{$vwpalm4is__mnral5zjy}` WHERE `appname` = '{$vwpalm4is_dd4j20qwmn_}' AND (datatype = 13 OR datatype = 14) ORDER BY name ASC"; $vwpalm4is_kmqnwo6cu5 = $wpdb->get_col($vwpalm4is_cevdqnb5lzm ); $vwpalm4is_itc61n3zpfd7 = array(); $vwpalm4is_itc61n3zpfd7[''] = '(None)'; foreach($vwpalm4is_kmqnwo6cu5 as $vwpalm4is_hs69ar ) { $vwpalm4is_itc61n3zpfd7[$vwpalm4is_hs69ar] = $vwpalm4is_hs69ar; } wpalm4is_yf0g75hqk184::wpalm4is_ht2hnjg_w('Last Login Field', 'last_login_field', $vwpalm4is_ne17fdv8uw4['last_login_field'], $vwpalm4is_itc61n3zpfd7, array('help_id' => 1173 ) ); wpalm4is_yf0g75hqk184::wpalm4is_h60alck('Autologin First Login Page', 'first_login_page', (int) $vwpalm4is_ne17fdv8uw4['first_login_page'], 'pagelistdropdown'); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Login Log', 'login_log', 1187, $vwpalm4is_ne17fdv8uw4['login_log'] ); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Disable Display Name Update', 'disable_displayname_update', 9634, $vwpalm4is_ne17fdv8uw4['disable_displayname_update'] ); wpalm4is_yf0g75hqk184::wpalm4is_kufeh2i6jmg4('Nicename/Display Name Format', 'displayname_format', $vwpalm4is_ne17fdv8uw4['displayname_format'], array('help_id' => 5731 ) ); wpalm4is_yf0g75hqk184::wpalm4is_kdfb73nti6c('Autologout/Inactivity Timer (Seconds)', 'autologout_time', $vwpalm4is_ne17fdv8uw4['autologout_time'],array('help_id' => 7688, 'min' => 0, 'max' => 86400, 'size' => 3, 'style' => 'text-align:right;width:80px;' ) ); echo '<hr>'; echo '<h3>Password Generation Settings</h3>'; wpalm4is_yf0g75hqk184::wpalm4is_kdfb73nti6c('Minimum Password Length', 'min_password_length', $vwpalm4is_ne17fdv8uw4['min_password_length'], array('help_id' => 1185, 'min' => 0, 'max' => 64, 'size' => 5 ) ); $vwpalm4is_itc61n3zpfd7 = array( 0 => 'Simple Lowercase (Level 0)', 1 => '+ Uppercase Consonants (Level 1)', 2 => '+ Uppercase Vowels (Level 2)', 3 => '+ Numbers (Level 3)', 4 => '+ Symbols (Level 4)', ); $vwpalm4is_szexg1su6 = array( 'style' => 'width:250px;', 'help_id' => 0 ); wpalm4is_yf0g75hqk184::wpalm4is_ht2hnjg_w('Password Strength', 'password_strength', $vwpalm4is_ne17fdv8uw4['password_strength'], $vwpalm4is_itc61n3zpfd7, $vwpalm4is_szexg1su6); wpalm4is_yf0g75hqk184::wpalm4is_kufeh2i6jmg4( 'HTTP POST Auth Keys', 'http_post_key', $vwpalm4is_vsmw53_cfzn['http_post_key'], array('help_id' => 3699, 'disabled' => true, 'style' => 'text-align:left;width:350px;' ) ); wpalm4is_yf0g75hqk184::wpalm4is_h60alck( 'Password Reset Tag', 'password_reset_tag', (int) $vwpalm4is_ne17fdv8uw4['password_reset_tag'], 'taglistdropdown', array('help_id' => 1183 ) ); wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('HTTP POST Log', 'httppost_log', 0000, $vwpalm4is_ne17fdv8uw4['httppost_log'] ); echo '<hr>'; echo '<h3>Auto-Login Settings</h3>'; wpalm4is_yf0g75hqk184::wpalm4is_ak_b1tzs8('Allow Autologin', 'allow_autologin', 4398, $vwpalm4is_ne17fdv8uw4['allow_autologin'] ); if (! empty($vwpalm4is_ne17fdv8uw4['allow_autologin'] ) ) { wpalm4is_yf0g75hqk184::wpalm4is_kufeh2i6jmg4( 'Autologin Auth Keys', 'autologin_authkeys', $vwpalm4is_ne17fdv8uw4['autologin_authkeys'], array('help_id' => 2571, 'style' => 'text-align:left;width:350px;' ) ); } echo '<hr>'; echo '</ul>'; echo '<p><input type="submit" value="Update" class="button-primary"></p>'; echo '</form>';
