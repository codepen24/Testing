<?php
 if (!defined('ABSPATH' ) ) { die(); } global $wpdb; echo '<form method="POST" action="">'; wp_nonce_field(MEMBERIUM_LIB, 'memberium_options_nonce' ); echo '<ul>'; echo '<hr>'; echo '<h3>Multi-Language Support</h3>'; echo '</form>'; if ($_SERVER['REQUEST_METHOD'] == 'POST' ) { if ($_POST['submit'] == 'Add/Update' ) { $_POST['context'] = strtolower(trim($_POST['context'] ) ); $_POST['language'] = strtolower(trim($_POST['language'] ) ); $_POST['name'] = strtolower(trim($_POST['name'] ) ); $_POST['origtext'] = trim(stripslashes($_POST['origtext'] ) ); $_POST['value'] = trim(stripslashes($_POST['value'] ) ); $vwpalm4is_cevdqnb5lzm = 'DELETE FROM `' . MEMBERIUM_DB_LANG . '` WHERE `context` = %s AND `name` = %s AND origtext = %s ;'; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $_POST['context'], $_POST['name'], $_POST['origtext'] ); $wpdb->query($vwpalm4is_cevdqnb5lzm ); if (! empty($_POST['value'] ) ) { $vwpalm4is_cevdqnb5lzm = 'INSERT INTO `' . MEMBERIUM_DB_LANG . '` (`context`, `language`, `name`, `origtext`, `value` ) VALUES (%s, %s, %s, %s, %s );'; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $_POST['context'], $_POST['language'], $_POST['name'], $_POST['origtext'], $_POST['value'] ); $wpdb->query($vwpalm4is_cevdqnb5lzm ); } } } $vwpalm4is_p0ks28 = empty($_GET['search'] ) ? '' : trim($_GET['search'] ); echo '<form method=post style="margin-bottom:24px;">'; wp_nonce_field(MEMBERIUM_LIB, 'memberium_options_nonce' ); echo '<ul><label>Context:</label><input required=required type=text name=context value="" size=30></ul>'; echo '<ul><label>Name:</label><select name=name>'; echo '<option value="memberium">Memberium</option>'; echo '<option value="">Generic</option>'; echo '</select>'; echo '</ul>'; $vwpalm4is_dp_47lozg5x = array( '' => 'Default', 'en' => 'English', 'ar' => 'Arabic', 'zh' => 'Chinese', 'de' => 'German', 'es' => 'Spanish', 'fr' => 'French', 'he' => 'Hebrew', 'hi' => 'Hindu', 'it' => 'Italian', 'ja' => 'Japanese', 'ko' => 'Korean', 'po' => 'Polish', 'pt' => 'Portuguese', 'sv' => 'Swedish', 'ru' => 'Russian', 'cy' => 'Welsh', 'ji' => 'Yiddish', 'vi' => 'Vietnamese', ); echo '<ul>'; echo '<label>Language:</label>'; echo '<select name="language">'; foreach($vwpalm4is_dp_47lozg5x as $vwpalm4is_d5kqsi90y => $vwpalm4is_gtyqfor0c8ib) { echo "<option value='{$vwpalm4is_d5kqsi90y}'>{$vwpalm4is_gtyqfor0c8ib}</option>"; } echo '</select>'; echo '</ul>'; echo '<ul><label>Original Text:</label><input required=required type=text name=origtext value="" size=80></ul>'; echo '<ul><label>New Text:</label><input required=required type=text name=value value="" size=80></ul>'; echo '<input type=submit name=submit value="Add/Update" class="button-primary">'; echo '</form>'; echo '<hr />'; echo '<form method=get>'; wp_nonce_field(MEMBERIUM_LIB, 'memberium_options_nonce' ); echo '<input type=hidden name=page value=memberium-options>'; echo '<input type=hidden name=tab value=language>'; echo '<input type=text name=search value="', $vwpalm4is_p0ks28, '"> &nbsp; '; echo '<input type=submit name=submit value=Search class="button-primary">'; echo '</form>'; if (true || ! empty($vwpalm4is_p0ks28 ) ) { $vwpalm4is_cevdqnb5lzm = "SELECT * FROM `" . MEMBERIUM_DB_LANG . "` WHERE `context` LIKE %s OR `origtext` LIKE %s OR `value` LIKE %s" ; if (empty($vwpalm4is_p0ks28 ) ) { $vwpalm4is_cevdqnb5lzm .= " ORDER BY id DESC;"; } $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, '%' . $vwpalm4is_p0ks28 . '%', '%' . $vwpalm4is_p0ks28 . '%', '%' . $vwpalm4is_p0ks28 . '%' ); $vwpalm4is_ss713erkxf0w = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A ); if (is_array($vwpalm4is_ss713erkxf0w ) && ! empty($vwpalm4is_ss713erkxf0w ) ) { echo '<table class=widefat>'; echo '<tr>'; echo '<td style="width:75px;">ID</td>'; echo '<td>Language</td>'; echo '<td>Context</td>'; echo '<td>Original Text</td>'; echo '<td>New Text</td>'; echo '</tr>'; foreach($vwpalm4is_ss713erkxf0w as $vwpalm4is_hs69ar ) { echo '<tr>'; echo '<td>', $vwpalm4is_hs69ar['id'], '</td>'; echo '<td>', empty($vwpalm4is_hs69ar['language'] ) ? '(Unknown)' : $vwpalm4is_hs69ar['language'] , '</td>'; echo '<td>', $vwpalm4is_hs69ar['context'], '</td>'; echo '<td>', $vwpalm4is_hs69ar['origtext'], '</td>'; echo '<td>', $vwpalm4is_hs69ar['value'], '</td>'; echo '</tr>'; } echo '</table>'; } } echo '</form>';
