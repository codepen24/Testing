<?php
if (!defined('ABSPATH' ) ) { die(); } if (! current_user_can('manage_options' ) ) { wp_die(__('You do not have sufficient permissions to access this page.' ) ); } if (user_can($vwpalm4is_n_bsw6d3x, 'manage_options' ) ) { echo '<tr>'; echo '<th>WARNING:</th>'; echo '<td><p style="font-weight:bold;color:red;">This user has the Admin / "manage_options" capability.</p></td>'; echo '</tr>'; return; } $vwpalm4is_ss713erkxf0w = memberium_app()->wpalm4is_t07nk42($vwpalm4is_n_bsw6d3x->user_email ); $vwpalm4is_y90ke_zn1c = (int) wpalm4is_bd5uye4ng3l::wpalm4is_titrm5z4($vwpalm4is_n_bsw6d3x->ID ); $vwpalm4is_hp41oja = memberium_app()->wpalm4is_pvab9fqcm($vwpalm4is_n_bsw6d3x->ID); if (! $vwpalm4is_y90ke_zn1c ) { return; } if (empty($vwpalm4is_hp41oja['memb_db_fields']['id'] ) || $vwpalm4is_hp41oja['memb_db_fields']['id'] < 1 ) { return; } if ( (int) $vwpalm4is_y90ke_zn1c > 0 || $vwpalm4is_hp41oja['memb_db_fields']['id'] > 0 ) { $vwpalm4is_jbucldi1t7q = wpalm4is_bd5uye4ng3l::wpalm4is_cad0k_3hp7m($vwpalm4is_y90ke_zn1c ); $vwpalm4is_rhygqw1e4rz0 = (int) get_user_meta($vwpalm4is_n_bsw6d3x->id, 'memberium_private_comments', true ); $vwpalm4is_fx_we74mspbj = strtolower(trim($vwpalm4is_jbucldi1t7q['Email']) ); $vwpalm4is_f9n6wl = strtolower(trim($vwpalm4is_n_bsw6d3x->user_email) ); echo '<h3>Memberium User Data</h3>'; echo '<table class="form-table">'; echo '<tr>'; echo '<th><label for="infusionsoft_id">Infusionsoft Contact ID</label></th>'; echo '<td><input name="infusionsoft_id" id="description" disabled="disabled" size="10" value="', $vwpalm4is_y90ke_zn1c, '"></td>'; echo '</tr>'; echo '<tr>'; echo '<th><label for="memberium_private_comments">Private Comments</label></th>'; echo '<td>'; echo '<input name="memberium_private_comments" type="hidden" value="0">'; echo '<input name="memberium_private_comments" id="memberium_private_comments" ', ( ($vwpalm4is_rhygqw1e4rz0 == 1 ) ? ' checked="checked" ' : '' ), 'type="checkbox" value="1"> Enable Private Comments<br />'; echo '</td>'; echo '</tr>'; echo '<h3>Sync Username and Email</h3>'; echo '<tr>'; echo '<th><label for="new_emailaddress">Update Email Address</label></th>'; echo '<td>'; echo '<input name="memb_update_email_confirm" id="memb_update_email_confirm" ', ($vwpalm4is_fx_we74mspbj == $vwpalm4is_f9n6wl) ? ' checked=checked ' : '', ' type="checkbox" value="1"> Update Username to match email address<br />'; echo '</td>'; echo '</tr>'; if (user_can($vwpalm4is_n_bsw6d3x, 'manage_options' ) ) { echo '<tr>'; echo '<th>WARNING:</th>'; echo '<td><p style="font-weight:bold;color:red;">This user has the "manage_options" capability.</p></td>'; echo '</tr>'; } if (! empty($vwpalm4is_hp41oja['memb_user']['theme'] ) ) { echo '<tr>'; echo '<th>WARNING:</th>'; echo "<td><p style='font-weight:bold;color:red;'>This user's membership level is set to use the \"{$vwpalm4is_hp41oja['memb_user']['theme']}\" theme.</p></td>"; echo '</tr>'; }  echo '<tr>'; echo '<th valign="top"><label for="rss_user_id">RSS User ID</label></th>'; echo '<td>'; echo '<input disabled=disabled size="30" value="', wpalm4is_lf9d0_sg1n::wpalm4is_oxv3nbclp($vwpalm4is_n_bsw6d3x->ID), '">'; echo '</td>'; echo '</tr>'; if (wpalm4is_bd5uye4ng3l::wpalm4is_re9gwh65toz($vwpalm4is_n_bsw6d3x->user_email ) > 1 ) { echo '<tr>'; echo '<th>WARNING:</th>'; echo '<td><p style="font-weight:bold;color:red;">DUPLICATE INFUSIONSOFT CONTACT RECORDS FOUND</p></td>'; echo '</tr>'; } echo '<tr>'; echo '<th><label for="infusionsoft_fields">Fields</label></th>'; echo '<td>'; if (! empty($vwpalm4is_jbucldi1t7q ) ) { foreach ($vwpalm4is_jbucldi1t7q as $vwpalm4is_x3e6m_hobj => $vwpalm4is_kh9vqi_6znd ) { if ($vwpalm4is_x3e6m_hobj != 'Groups' && $vwpalm4is_kh9vqi_6znd <> 'null' && $vwpalm4is_kh9vqi_6znd > '' && $vwpalm4is_x3e6m_hobj != $this->settings['settings']['password_field'] ) {  echo '<input style="color:#000;width:200px;margin-right:25px;" disabled value="',$vwpalm4is_x3e6m_hobj,'"> <input disabled style="color:#000;width:300px;" value="', $vwpalm4is_kh9vqi_6znd,'"><br>'; } if ($vwpalm4is_x3e6m_hobj == $this->settings['settings']['password_field'] ) { echo '<!-- CRM Password:  ', $vwpalm4is_x3e6m_hobj, ' = |', $vwpalm4is_kh9vqi_6znd, '| -->'; } } } echo '</td>'; echo '</tr>'; echo '<tr>'; echo '<th valign="top"><label for="infusionsoft_memberships">Memberships</label></th>'; echo '<td>'; if (empty($vwpalm4is_hp41oja['memb_user']['membership_names'] ) ) { echo '<em>(None)</em>'; } else { echo str_replace(',', ', ', $vwpalm4is_hp41oja['memb_user']['membership_names'] ); } echo '<br>'; echo 'Level: ', (isset($vwpalm4is_hp41oja['memb_user']['membership_level'] ) ? $vwpalm4is_hp41oja['memb_user']['membership_level'] : '' ), '<br />'; echo '<br />'; echo '</td>'; echo '</tr>'; echo '<tr>'; echo '<th><label for="infusionsoft_tags">Tags</label></th>'; echo '<td>'; echo '<input type="text" disabled value="', (isset($vwpalm4is_jbucldi1t7q['Groups'] ) ? $vwpalm4is_jbucldi1t7q['Groups'] : '' ), '" id="current_tags" class="multitaglist" style="width:600px !important;"><br>';  $vwpalm4is_zkq16hy = explode(',', $vwpalm4is_jbucldi1t7q['Groups'] ); $vwpalm4is_gf2m1t7v8nbz = wpalm4is_l9n25d::wpalm4is_d35w2jzaf(TRUE ); $vwpalm4is_gf2m1t7v8nbz = $vwpalm4is_gf2m1t7v8nbz['mc']; $vwpalm4is_pos1lk = array(); foreach ( (array) $vwpalm4is_gf2m1t7v8nbz as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_agvwtn ) { $vwpalm4is_pos1lk[] = array('id' => $vwpalm4is_vzoj7cv_rsly, 'text' => $vwpalm4is_agvwtn . ' (' . $vwpalm4is_vzoj7cv_rsly . ')' ); if (in_array($vwpalm4is_vzoj7cv_rsly, $vwpalm4is_zkq16hy ) ) { $vwpalm4is_pos1lk[] = array('id' => '-' . $vwpalm4is_vzoj7cv_rsly, 'text' => 'Remove ' . $vwpalm4is_agvwtn . ' (-' . $vwpalm4is_vzoj7cv_rsly . ')' ); } else { } } unset($vwpalm4is_gf2m1t7v8nbz, $vwpalm4is_vzoj7cv_rsly, $vwpalm4is_agvwtn ); $vwpalm4is_pos1lk = json_encode($vwpalm4is_pos1lk ); echo '<script>'; echo 'var taglist = ', $vwpalm4is_pos1lk, ';'; echo '</script>'; unset($vwpalm4is_pos1lk ); echo '<br />'; echo '<span class="description">Add/Remove Tags:</span><br />'; echo '<input type="text" value="" id="updated_tags" name="updated_tags" class="multitaglist" style="width:600px !important;"><br>'; echo '</td>'; echo '</tr>'; unset($vwpalm4is_jbucldi1t7q, $vwpalm4is_x3e6m_hobj, $vwpalm4is_kh9vqi_6znd ); echo '</table>'; } else { }  if ( (int) $vwpalm4is_y90ke_zn1c > 0 ) { $vwpalm4is_jbucldi1t7q = wpalm4is_bd5uye4ng3l::wpalm4is_cad0k_3hp7m($vwpalm4is_y90ke_zn1c ); if (empty($vwpalm4is_jbucldi1t7q ) ) { memberium_app()->wpalm4is_kfhs9u7mp0o4($vwpalm4is_y90ke_zn1c, true ); $vwpalm4is_jbucldi1t7q = wpalm4is_bd5uye4ng3l::wpalm4is_cad0k_3hp7m($vwpalm4is_y90ke_zn1c ); } if (is_array($vwpalm4is_jbucldi1t7q ) && count($vwpalm4is_jbucldi1t7q ) > 0 ) { $vwpalm4is_gf2m1t7v8nbz = explode(',', empty($vwpalm4is_jbucldi1t7q['Groups'] ) ? '' : $vwpalm4is_jbucldi1t7q['Groups'] ); echo '<table class="form-table">'; echo '<tr>'; echo '<th><label>Last Login:</label></th>'; echo '<td>'; $vwpalm4is__kc05tlp38 = get_user_meta($vwpalm4is_n_bsw6d3x->ID, 'last_login_time', TRUE ); $vwpalm4is_zte8g2rls7 = get_option('timezone_string'); $vwpalm4is_uvbgk4rxm5zn = date_default_timezone_get(); if (! empty($vwpalm4is_zte8g2rls7)) { date_default_timezone_set($vwpalm4is_zte8g2rls7 ); } echo 'Date: ', $vwpalm4is__kc05tlp38 > 1 ? date('Y-m-d h:i:s', $vwpalm4is__kc05tlp38 ) : 'None'; echo '<br>'; date_default_timezone_set($vwpalm4is_uvbgk4rxm5zn ); $vwpalm4is__kc05tlp38 = get_user_meta($vwpalm4is_n_bsw6d3x->ID, 'login_ip_address', TRUE ); echo 'IP Address: ', $vwpalm4is__kc05tlp38 > '' ? $vwpalm4is__kc05tlp38 : 'None'; echo '<br>'; $vwpalm4is__kc05tlp38 = get_user_meta($vwpalm4is_n_bsw6d3x->ID, 'login_count', TRUE ); echo 'Total Logins: ', (int)$vwpalm4is__kc05tlp38; echo '<br>'; echo '</td>'; echo '</tr>'; echo '</table>'; } } echo '<table class="form-table">'; echo '<tr>'; echo '<th>'; echo '<label for="infusionsoft_tags">Synchronize Contact</label>'; echo '</th>'; echo '<td>'; echo '<input type="submit" name="memberium_sync" value="Re-Synchronize Contact" class="button-secondary"><br />'; echo '<span class="description">Synchronizing will delete any local records, and resync the data from Infusionsoft</span>'; echo '</td>'; echo '</tr>'; echo '</table>'; remove_action('admin_footer', array($this, 'wpalm4is_q4m5gb' ) );
