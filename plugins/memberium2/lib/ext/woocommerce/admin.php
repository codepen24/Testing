<?php
/**
 * Copyright (c) 2012-2020 David J Bullock
 * Web Power and Light
 */

 if (! defined( 'ABSPATH' ) ) { die(); } class wpalm4is_xw64g5 { private $metas = array( '_memberium_main_tag', '_memberium_canc_tag', '_memberium_payf_tag', '_memberium_susp_tag', ); function __construct() { add_filter('woocommerce_helper_suppress_admin_notices', '__return_true'); add_action('admin_init', array($this, 'wpalm4is_y6ib81tr') ); } function wpalm4is_y6ib81tr() { add_meta_box('memberium\woocommerce\actions','Memberium WooCommerce', array($this, 'wpalm4is_q15amsc'), 'product', 'side'); add_action('save_post_product', array( $this, 'wpalm4is_yd2emnkhw' ) ); } function wpalm4is_q15amsc() { global $post; $vwpalm4is_s0xg9q_e5ku4 = (int) get_post_meta($post->ID, '_memberium_main_tag', true); $vwpalm4is_eh96ts = (int) get_post_meta($post->ID, '_memberium_canc_tag', true); $vwpalm4is_iar8u_wnz = (int) get_post_meta($post->ID, '_memberium_payf_tag', true); $vwpalm4is_wlptu25hws0 = (int) get_post_meta($post->ID, '_memberium_susp_tag', true); echo '<label for="_memberium_main_tag">', _e( "Access Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_main_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwpalm4is_s0xg9q_e5ku4, '"><br /><br />'; echo '<label for="_memberium_canc_tag">', _e( "Cancel Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_canc_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwpalm4is_eh96ts, '"><br /><br />'; echo '<label for="_memberium_payf_tag">', _e( "Payment Failure Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_payf_tag"  class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwpalm4is_iar8u_wnz, '"><br /><br />'; echo '<label for="_memberium_susp_tag">', _e( "Suspend/On-Hold Tag", 'memberium' ), ':</label> '; echo '<input name="_memberium_susp_tag" class="taglistdropdown" style="width:100%; max-width:100%" value="', $vwpalm4is_wlptu25hws0, '"><br /><br />'; } function wpalm4is_yd2emnkhw($vwpalm4is_wikmdre) {  if ( defined( 'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) { return; } if ( ! current_user_can( 'edit_posts', $vwpalm4is_wikmdre ) ) { return; } if (! $vwpalm4is_wikmdre) { return; } foreach($this->metas as $vwpalm4is_p536eja) { if (isset($_POST[$vwpalm4is_p536eja]) ) { $_POST[$vwpalm4is_p536eja] = trim($_POST[$vwpalm4is_p536eja], ','); update_post_meta($vwpalm4is_wikmdre, $vwpalm4is_p536eja, $_POST[$vwpalm4is_p536eja]); } } } }
