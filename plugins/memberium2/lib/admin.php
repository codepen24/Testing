<?php
/**
 * Copyright (c) 2012-2020 David J Bullock
 * Web Power and Light, LLC
 * https://webpowerandlight.com
 * support@webpowerandlight.com
 *
 */

 if (! defined('ABSPATH') ) { die(); }   final class wpalm4is_dwrme417cz { function __construct() { static $vwpalm4is_k_pgscd = false; if ($vwpalm4is_k_pgscd) { return; } $vwpalm4is_k_pgscd = true; global $i2sdk; if (! method_exists($i2sdk, 'isVerified') || ! $i2sdk->isVerified() ) { add_action('admin_menu', array($this, 'wpalm4is_w6yz729x') ); return; } add_action('current_screen', array($this, 'wpalm4is_b9cn52'), -1); add_action('wpmu_new_blog', array($this, 'wpalm4is_vquniwez'), 10, 6); add_filter('plugin_action_links', array($this, 'wpalm4is__7nl1r0za2t'), 10, 4); add_filter('plugin_action_links', array($this, 'wpalm4is_ek8jolmxf'), 10, 2); $this->settings = wpalm4is_xb7t0i6pzn::wpalm4is_s0xuab5fq6hy(); $vwpalm4is_u7boeps349 = isset($this->settings['settings']['version']) ? $this->settings['settings']['version'] : 0; if ($vwpalm4is_u7boeps349 <> memberium_app()->wpalm4is_zktb2lnm() ) { wpalm4is_c4al9t::wpalm4is_rto3p1n4y(); $this->settings = wpalm4is_xb7t0i6pzn::wpalm4is_s0xuab5fq6hy(); } $this->notices = array(); $this->i2sdk = $i2sdk; $this->isdk = $i2sdk->isdk; $this->advanced_mode = $this->settings['settings']['show_advanced_options'] == 1 ? true : false; $this->appname = wpalm4is_xb7t0i6pzn::wpalm4is_mz346l5qyv('appname'); $this->preview_mode = (int) $this->settings['settings']['preview_mode']; $this->license_status = wpalm4is_rvrqgfe5ns_::wpalm4is_c8me3ltrxcn4(); if (! $this->license_status) { wpalm4is_rvrqgfe5ns_::wpalm4is_nhzlbyp(); $this->license_status = wpalm4is_rvrqgfe5ns_::wpalm4is_c8me3ltrxcn4(); } add_action('admin_post_memberium_scan_users', array($this, 'wpalm4is_sdyojz7gvpqt') ); add_action('admin_enqueue_scripts', array($this, 'wpalm4is_m97scn'), 1); add_action('admin_init', array($this, 'wpalm4is_i2mtz6'), 1); add_action('admin_notices', array($this, 'wpalm4is_dgyt18pls') ); if (! $this->license_status) { add_action('admin_menu', array($this, 'wpalm4is_w6yz729x') ); return; } add_action('admin_init', array($this, 'wpalm4is_ezmvyosj3i') ); add_action('admin_print_scripts-edit.php', array($this, 'wpalm4is_s27u41') ); add_action('edit_form_after_title', array($this, 'wpalm4is_ska3esdq54c') ); add_action('init', array($this, 'wpalm4is_hcx7k9ja'), 5); add_action('init', array($this, 'wpalm4is_ss0npqyv'), 999999); add_action('save_post', array($this, 'wpalm4is_a743qh') ); add_action('save_post', array($this, 'wpalm4is_ltbjp5_yz') ); add_action('wp_ajax_memberium_save_bulk_edit', array($this, 'wpalm4is_ltue6o30') );  add_filter('bulk_actions-edit-post', array(__CLASS__, 'wpalm4is_o8dsa04n3') ); add_filter('bulk_actions-edit-page', array(__CLASS__, 'wpalm4is_o8dsa04n3') ); add_filter('handle_bulk_actions-edit-post', array(__CLASS__, 'wpalm4is_qdyzi3r2e'), 10, 3); add_filter('handle_bulk_actions-edit-page', array(__CLASS__, 'wpalm4is_qdyzi3r2e'), 10, 3); add_filter('gutenberg_can_edit_post_type', array($this, 'wpalm4is_tm3nayf'), PHP_INT_MAX, 2); add_post_type_support('page', 'excerpt'); if (function_exists('wp_generate_password') ) { if (!isset($this->settings['settings']['random_seed']) || $this->settings['settings']['random_seed'] == '') { $this->settings['settings']['random_seed'] = wp_generate_password(16, FALSE, FALSE); update_option('memberium', $this->settings); } } include_once ABSPATH . 'wp-admin/includes/plugin.php'; if (empty($this->settings['plugins']['google-analytics-for-wordpress']) ) { $this->settings['plugins']['google-analytics-for-wordpress'] = FALSE; } if (is_plugin_active('google-analytics-for-wordpress/googleanalytics.php') != $this->settings['plugins']['google-analytics-for-wordpress']) { $this->settings['plugins']['google-analytics-for-wordpress'] = is_plugin_active('google-analytics-for-wordpress/googleanalytics.php'); update_option('memberium', $this->settings); } if (empty($this->settings['plugins']['nextend-facebook-connect']) ) $this->settings['plugins']['nextend-facebook-connect'] = false; if (is_plugin_active('nextend-facebook-connect/nextend-facebook-connect.php') != $this->settings['plugins']['nextend-facebook-connect']) { $this->settings['settings']['nextend-facebook-connect'] = is_plugin_active('nextend-facebook-connect/nextend-facebook-connect.php'); update_option('memberium', $this->settings); } if (isset($_GET['memberium_ignore_notice']) ) { $this->wpalm4is_vz4i9yglo3cr(); } if (false && $_SERVER['REMOTE_ADDR'] == '71.92.64.210') {  $taxonomies = array( 'category', ); foreach($taxonomies as $taxonomy) { add_action($taxonomy . '_add_form_fields', array($this, 'wpalm4is_ti6ujl'), 1000); add_action($taxonomy . '_edit_form_fields', array($this, 'wpalm4is_mvr7x3ks2a'), 1000); add_action('create_' . $taxonomy, 'wpalm4is_l28q146d', 1000); add_action('edited_' . $taxonomy, 'wpalm4is_fe5mofstgu', 1000); } add_action('edit_category_form', array($this, 'wpalm4is_g3gnzfrcxu'), 10, 1); } } function __destruct() { } static function wpalm4is_o8dsa04n3($vwpalm4is_o7jwt1ip) { $vwpalm4is_o7jwt1ip['memberium-page-export'] = 'Page Export'; return $vwpalm4is_o7jwt1ip; } static function wpalm4is_qdyzi3r2e($vwpalm4is_kp5xz8, $vwpalm4is_kpfj12ie4o7t, $vwpalm4is_pr8_ucow9jsf) { if ($vwpalm4is_kpfj12ie4o7t == 'memberium-page-export') { $vwpalm4is_hf3mnj0 = wpalm4is_rz1tr7ynfa::wpalm4is_lzkjo5i($vwpalm4is_pr8_ucow9jsf); return get_admin_url() . 'upload.php?item=' .(int) $vwpalm4is_hf3mnj0; return get_permalink($vwpalm4is_hf3mnj0); } return $vwpalm4is_kp5xz8; } function wpalm4is_ek8jolmxf($vwpalm4is_p_pqu9z3xsl, $vwpalm4is_rs76aqhfcu5z) { if ($vwpalm4is_rs76aqhfcu5z == 'memberium2/memberium2.php') { $vwpalm4is_p_pqu9z3xsl['starthere'] = sprintf('<a href="%s"> %s </a>', admin_url('admin.php?page=memberium'), __('Start Here', 'plugin_domain') ); $vwpalm4is_p_pqu9z3xsl['settings'] = sprintf('<a href="%s"> %s </a>', admin_url('admin.php?page=memberium-options'), __('Settings', 'plugin_domain') ); $vwpalm4is_p_pqu9z3xsl['help'] = sprintf('<a href="%s" target="_blank"> %s </a>', 'https://memberium.com/documentation/', __('Docs', 'plugin_domain') ); $vwpalm4is_p_pqu9z3xsl['support'] = sprintf('<a href="%s" target="_blank"> %s </a>', 'https://memberium.com/support/', __('Support', 'plugin_domain') ); } return $vwpalm4is_p_pqu9z3xsl; } function wpalm4is_tm3nayf($vwpalm4is_qb41_32, $vwpalm4is_xvesxnc2dk) { if ($vwpalm4is_qb41_32) { $vwpalm4is_x0k4fd_ = array( 'memb_shortcodeblocks', 'partials', ); $vwpalm4is_xvesxnc2dk = strtolower($vwpalm4is_xvesxnc2dk); $vwpalm4is_qb41_32 = ! in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_x0k4fd_); } return $vwpalm4is_qb41_32; } function wpalm4is__7nl1r0za2t($vwpalm4is_o7jwt1ip, $vwpalm4is_t9xmcl, $vwpalm4is_q6lagf412, $vwpalm4is_lwbi9plzu) { if ($vwpalm4is_t9xmcl == 'i2sdk2/i2sdk2.php') { $vwpalm4is_o7jwt1ip['deactivate'] = '<em style="color:#000;">Required by Memberium</em>'; } return $vwpalm4is_o7jwt1ip; }    function wpalm4is_hcx7k9ja() { if (is_plugin_active('memberium2-installer/memberium2-installer.php') ) { deactivate_plugins('memberium2-installer/memberium2-installer.php'); } if (current_user_can('manage_options') ) { add_action('admin_menu', array($this, 'wpalm4is_w6yz729x') ); add_action('delete_user', array($this, 'wpalm4is_dti9secjxdh') ); add_action('edit_user_profile', array($this, 'wpalm4is__x_z8ia9o5g2'), 2000); add_action('edit_user_profile_update', array($this, 'wpalm4is_pdivoc'), 1); add_action('profile_update', array($this, 'wpalm4is_wlt8ja'), 10, 2); add_action('show_user_profile', array($this, 'wpalm4is__x_z8ia9o5g2') ); } add_action('personal_options_update', array($this, 'wpalm4is_pdivoc'), 1); add_action('user_register', array($this, 'wpalm4is_d0_sp5at9im'), PHP_INT_MAX, 1); add_action('user_new_form', array($this, 'wpalm4is_ql39mpz'), 1, 1); if (current_user_can('manage_options') ) { require_once MEMBERIUM_LIB . '/vendor/wpal/health/init.php'; if (MEMBERIUM_BETA) { add_action('admin_notices', array($this, 'wpalm4is_dczwnv') ); } } add_filter('get_sample_permalink_html', array($this, 'wpalm4is_z9ryn7'), 10, 5); } function wpalm4is_z9ryn7($vwpalm4is_lj4srzwt5yx1, $vwpalm4is_wikmdre, $vwpalm4is_kec2af5mugs, $new_slug, $vwpalm4is_sxkc2voun) { if (property_exists($vwpalm4is_sxkc2voun, 'post_type') ) { if (in_array($vwpalm4is_sxkc2voun->post_type, array('partials', 'memb_shortcodeblocks') ) ) { return null; } } return $vwpalm4is_lj4srzwt5yx1; } function wpalm4is_ss0npqyv() { $this->non_enhanced_post_types = wpalm4is_yf0g75hqk184::wpalm4is_mto14wqdyj(); $vwpalm4is_xvesxnc2dk = isset($_GET['post_type']) ? $_GET['post_type'] : 'post'; $vwpalm4is_jg98d5sj0 = ! in_array($vwpalm4is_xvesxnc2dk, $this->non_enhanced_post_types); $vwpalm4is_jg98d5sj0 = $vwpalm4is_jg98d5sj0 || in_array($vwpalm4is_xvesxnc2dk, array('memb_shortcodeblocks') ); if ($vwpalm4is_jg98d5sj0) { add_action('manage_pages_custom_column', array($this, 'wpalm4is_mh295784jzs'), 10, 2); add_action('manage_posts_custom_column', array($this, 'wpalm4is_mh295784jzs'), 10, 2); add_action('quick_edit_custom_box', array($this, 'wpalm4is_f7e1cm95t'), 10, 2); add_action('bulk_edit_custom_box', array($this, 'wpalm4is_yn8rjfy'), 10, 2); add_filter('manage_pages_columns', array($this, 'wpalm4is_wm8vwb5ska') ); add_filter('manage_posts_columns', array($this, 'wpalm4is_wm8vwb5ska') ); } } function wpalm4is_ska3esdq54c() { if (isset($_GET['post']) ) { $vwpalm4is_sxkc2voun = get_post($_GET['post']); if (empty($vwpalm4is_sxkc2voun->post_name) ) { return; } } else { return; } $vwpalm4is_ecxbw_ = ''; if ($vwpalm4is_sxkc2voun->post_type == 'partials') { $vwpalm4is_ecxbw_ = '[memb_include_partial id=' . $vwpalm4is_sxkc2voun->ID . ']'; } elseif ($vwpalm4is_sxkc2voun->post_type == 'memb_shortcodeblocks') { $vwpalm4is_ecxbw_ = '[membc_' . $vwpalm4is_sxkc2voun->post_name . ']'; } if (! empty($vwpalm4is_ecxbw_) ) { echo '<h2>', $vwpalm4is_ecxbw_, '</h2>'; } }    function wpalm4is_uhxncfu2() { $vwpalm4is_qw7m6ci = 30; global $wpdb; $this->settings['settings']['referral_partner_order'] = $this->isdk->dsGetSetting('Affiliate', 'chooseaffiliate'); $vwpalm4is_cevdqnb5lzm = "DELETE FROM `{$wpdb->options}` WHERE `option_name` LIKE '%transient_memberium%' OR `option_name` LIKE '%transient_timeout_memberium%' ; "; $wpdb->query($vwpalm4is_cevdqnb5lzm); set_time_limit($vwpalm4is_qw7m6ci); $this->i2sdk->syncCustomFields(); set_time_limit($vwpalm4is_qw7m6ci); $rows = memberium_app()->wpalm4is_sh53_jivqsm(); set_time_limit($vwpalm4is_qw7m6ci); $rows = wpalm4is_bd5uye4ng3l::wpalm4is_lpkn9t(); set_time_limit($vwpalm4is_qw7m6ci); wpalm4is_bd5uye4ng3l::wpalm4is_a78abvr1(); set_time_limit($vwpalm4is_qw7m6ci); memberium_app()->wpalm4is_bg2lti4(); set_time_limit($vwpalm4is_qw7m6ci); wpalm4is_bd5uye4ng3l::wpalm4is_mr2msy(); set_time_limit($vwpalm4is_qw7m6ci); memberium_app()->wpalm4is_xlbi2waj98rp(); if (! empty($this->settings['settings']['sync_ecommerce']) ) { set_time_limit($vwpalm4is_qw7m6ci); memberium_app()->wpalm4is_equrvgo2(); }   $vwpalm4is_ttuymbl = get_option('memberium_tables_updated', array() ); $vwpalm4is_ttuymbl['actionsets'] = time(); $vwpalm4is_ttuymbl['i2sdk_customfields'] = time(); $vwpalm4is_ttuymbl['tagcategories'] = time(); $vwpalm4is_ttuymbl['tags'] = time(); $vwpalm4is_ttuymbl['products'] = time(); $vwpalm4is_ttuymbl['subscriptionplans'] = time(); update_option('memberium_tables_updated', $vwpalm4is_ttuymbl); update_option('memberium', $this->settings, true); wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('Infusionsoft Synchronized', 'wpalm4is_jrcdf1'); } static function wpalm4is_j0fcxj4() { $vwpalm4is_fepy1i567jf = get_option('memberium_tables', array() ); $vwpalm4is_tp4kj93ghye = array(); global $wpdb; $vwpalm4is_cevdqnb5lzm = 'SHOW TABLES'; $vwpalm4is_o1acmj4o_pwe = $wpdb->get_col($vwpalm4is_cevdqnb5lzm); foreach($vwpalm4is_fepy1i567jf as $vwpalm4is__mnral5zjy) { if (! in_array($vwpalm4is__mnral5zjy, $vwpalm4is_o1acmj4o_pwe) ) { $vwpalm4is_tp4kj93ghye[] = $vwpalm4is__mnral5zjy; } } return $vwpalm4is_tp4kj93ghye; } function wpalm4is_n_sfg4() {       } function wpalm4is_m97scn($vwpalm4is_uyt5am0) {   $vwpalm4is_hoe3cwg = false; $vwpalm4is_hoe3cwg = $vwpalm4is_hoe3cwg || strpos($vwpalm4is_uyt5am0, 'memberium') !== false; $vwpalm4is_ecwut_1g0lx = array( 'edit.php', 'post-new.php', 'post.php', 'user-edit.php', ); $vwpalm4is_ecwut_1g0lx = apply_filters('memberium\enhanced_admin_scripts', $vwpalm4is_ecwut_1g0lx);  $vwpalm4is_hoe3cwg = $vwpalm4is_hoe3cwg || in_array($vwpalm4is_uyt5am0, $vwpalm4is_ecwut_1g0lx); if ($vwpalm4is_hoe3cwg) { $vwpalm4is__ylsqc = plugin_dir_url(MEMBERIUM_HOME); $vwpalm4is_yfrwdj3bgv54 = memberium_app()->wpalm4is_zktb2lnm(); wp_register_style('m4is_s2css', $vwpalm4is__ylsqc . 'css/memb_select2.css', false, $vwpalm4is_yfrwdj3bgv54, 'all'); wp_register_script('m4is_s2js', $vwpalm4is__ylsqc . 'js/memb_select2.js', array('jquery'), $vwpalm4is_yfrwdj3bgv54, true); wp_enqueue_style('m4is_s2css'); wp_enqueue_script('m4is_s2js'); wp_register_style('memberium_admin_css', $vwpalm4is__ylsqc . 'css/admin.css', false, $vwpalm4is_yfrwdj3bgv54, 'all'); wp_enqueue_style('memberium_admin_css'); wp_register_script('memberium_adminsettings', $vwpalm4is__ylsqc . 'js/admin-settings.js', false, $vwpalm4is_yfrwdj3bgv54); wp_enqueue_script('memberium_adminsettings'); wp_enqueue_style('font-awesome', 'https://use.fontawesome.com/releases/v5.12.0/css/all.css', false, '5.12.0'); } } function wpalm4is_i2mtz6() {  if (is_network_admin() || isset($_GET['activate-multi']) ) { return; } if (is_admin() ) { $vwpalm4is_x3e6m_hobj = 'memberium/activation_timestamp'; $vwpalm4is_wcqla_6ge = (time() - get_option($vwpalm4is_x3e6m_hobj, 0) ); if ($vwpalm4is_wcqla_6ge < 20) { update_option($vwpalm4is_x3e6m_hobj, 0);  wp_safe_redirect(add_query_arg(array('page' => 'memberium-welcome-screen'), admin_url('index.php') ) ); exit; } } } function wpalm4is_dczwnv() { $vwpalm4is_klgbfy6k43s5 = $_GET; if (isset($vwpalm4is_klgbfy6k43s5['tab']) && $vwpalm4is_klgbfy6k43s5['tab'] == 'checklist' || ! current_user_can('manage_options') ) { return; } if (! get_user_meta(get_current_user_id(), 'memberium_ignore_notice_checklist', true) ) { $vwpalm4is_s1s2497vu = $this->wpalm4is_f0n_i18(true); if (! empty($vwpalm4is_s1s2497vu['active']) ) { $vwpalm4is_x0fxvezds = wpalm4is_yf0g75hqk184::wpalm4is_nx5ruvo3kc2('checklist'); $vwpalm4is_d970qtm24wc = "updated"; $vwpalm4is_pl2e5v7_ = '<h3 style="margin-bottom:6px;">Memberium Setup CheckList</h3>' . '<p>Your next setup checklist step is to ' . $vwpalm4is_s1s2497vu['active'][0]['t'] . '</p><p><a href="admin.php?page=dashboard&tab=checklist"><strong>Click here</strong></a> to return to the setup checklist.</p>' . '<div style="text-align:right;"><p><a href="'. $vwpalm4is_x0fxvezds .'">Hide these Reminders</a></p></div>'; echo"<div class='{$vwpalm4is_d970qtm24wc}'>{$vwpalm4is_pl2e5v7_}</div>"; } } } function wpalm4is_vz4i9yglo3cr() { $vwpalm4is_klgbfy6k43s5 = $_GET; $vwpalm4is_tcon6xrp = get_current_user_id(); $vwpalm4is_x3e6m_hobj = isset($vwpalm4is_klgbfy6k43s5['memberium_ignore_notice']) ? sanitize_text_field($vwpalm4is_klgbfy6k43s5['memberium_ignore_notice']) : ''; if (! empty($vwpalm4is_x3e6m_hobj) ) { update_option("memberium/notice/{$vwpalm4is_x3e6m_hobj}", 1); if (wp_get_referer() ) { wp_safe_redirect(wp_get_referer() ); } else { wp_safe_redirect(site_url() ); } } } function wpalm4is_dgyt18pls() { $vwpalm4is_x0fxvezds = wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2(1226); if (! wpalm4is_rvrqgfe5ns_::wpalm4is_c8me3ltrxcn4() ) { echo '<div class="error"><p><strong style="font-size:150%;color:red;">Memberium License Missing / Expired', $vwpalm4is_x0fxvezds, '</strong></p>'; echo '<p>For possible causes, <a target="_blank" href="https://memberium.com/?p=1226">click here</a>.</p>'; echo '<p>If you have not yet purchased a license, please <a target="_blank" href="https://memberium.com/pricing/">purchase a license by clicking here</a></p>'; echo '<p>If you already have a license please <a target="_blank" href="https://memberium.com/support/">contact support by clicking here</a>.</p></div>'; } }  function wpalm4is_b9cn52() { if (defined('DOING_AJAX') && DOING_AJAX) { return; } if (function_exists('wp_doing_ajax') && wp_doing_ajax() ) { return; } if (isset($_SERVER['SCRIPT_NAME']) && basename($_SERVER['SCRIPT_NAME']) == 'admin-post.php') { return; } if (is_super_admin() ) { return; } $vwpalm4is_zucv8gshq9f = false; $vwpalm4is_tcon6xrp = get_current_user_id(); $vwpalm4is_o2eynlc0 = explode(',', $this->settings['settings']['allow_wpadmin_dashboard']); if (! empty($vwpalm4is_o2eynlc0) ) { $vwpalm4is_zucv8gshq9f = true; foreach($vwpalm4is_o2eynlc0 as $vwpalm4is__phr1zcqfb) { if (user_can($vwpalm4is_tcon6xrp, $vwpalm4is__phr1zcqfb) ) { $vwpalm4is_zucv8gshq9f = false; } } } if (! $vwpalm4is_zucv8gshq9f) { $vwpalm4is_uc4506 = isset($this->settings['settings']['allow_wpadmin']) ? (bool) $this->settings['settings']['allow_wpadmin'] : false; if ($vwpalm4is_uc4506) { $vwpalm4is_zucv8gshq9f = false; } else { $vwpalm4is_zucv8gshq9f = true; } } if (! $vwpalm4is_zucv8gshq9f) { return; }    $vwpalm4is_p7m_xw = wp_login_url($_SERVER['REQUEST_URI']);  if (is_user_logged_in() ) { $vwpalm4is_hp41oja = memberium_app()->wpalm4is_pvab9fqcm(get_current_user_id() ); if (! empty($vwpalm4is_hp41oja['memb_user']['login_page']) ) { $vwpalm4is_p7m_xw = get_permalink($vwpalm4is_hp41oja['memb_user']['login_page']); } else { $vwpalm4is_p7m_xw = get_site_url(); }  $vwpalm4is___9lnu58 = get_current_screen(); if ($vwpalm4is___9lnu58->id == 'user-edit') { if (function_exists('bp_loggedin_user_domain') ) { $vwpalm4is_p7m_xw = bp_loggedin_user_domain(); } else { $pages = get_option('memberium_pages', array() ); $vwpalm4is_p7m_xw = isset($pages['profile_page']) ? get_permalink($pages['profile_page']) : $vwpalm4is_p7m_xw; } } } wp_redirect($vwpalm4is_p7m_xw); exit; }    function wpalm4is_vquniwez($vwpalm4is_s7sdvr5j6hpo, $vwpalm4is_tcon6xrp, $vwpalm4is_xeo29n03bmf4, $vwpalm4is_h715p_v, $vwpalm4is_p14_zr9qw, $vwpalm4is_p536eja) { global $wpdb; if (is_plugin_active_for_network('memberium2/memberium2.php') ) { $vwpalm4is_ew13sf = $wpdb->blogid; switch_to_blog($vwpalm4is_s7sdvr5j6hpo); wpalm4is_c4al9t::wpalm4is_t2ha6gindw(); switch_to_blog($vwpalm4is_ew13sf); } }    function wpalm4is_hc4e6xf($vwpalm4is_z3qlki = 0, $vwpalm4is_ecxbw_ = '') { $vwpalm4is_z3qlki = (int) $vwpalm4is_z3qlki; if (! $vwpalm4is_z3qlki) { return; } if (empty($vwpalm4is_ecxbw_) ) { $vwpalm4is_ecxbw_ = $vwpalm4is_z3qlki; } return "<span class='update-plugins count-{$vwpalm4is_z3qlki}' title='{$vwpalm4is_ecxbw_}'><span class='update-count'>{$vwpalm4is_ecxbw_}</span></span>"; } function wpalm4is_po9laznhei() { static $vwpalm4is_z3qlki; if ($vwpalm4is_z3qlki) { return $vwpalm4is_z3qlki; } global $wpdb; $vwpalm4is_tqsjkgu7 = wpalm4is_xb7t0i6pzn::wpalm4is_mz346l5qyv('appname'); $vwpalm4is_z3qlki = $wpdb->get_var("SELECT count(*) FROM `" . MEMBERIUM_DB_HTTPPOST . "` WHERE `appname` = '{$vwpalm4is_tqsjkgu7}';"); $vwpalm4is_z3qlki = $vwpalm4is_z3qlki + $wpdb->get_var("SELECT count(*) FROM `" . MEMBERIUM_DB_LOGINLOG . "` WHERE `appname` = '{$vwpalm4is_tqsjkgu7}';"); return $vwpalm4is_z3qlki; } function wpalm4is_mgevs8nbw2() { static $vwpalm4is_z3qlki; if ($vwpalm4is_z3qlki) { return $vwpalm4is_z3qlki; } $i2sdk_options = get_option('i2sdk'); $vwpalm4is_z3qlki = $i2sdk_options['server_verified'] ? 0 : 1; $vwpalm4is_z3qlki = $vwpalm4is_z3qlki + empty($i2sdk_options['app_name']) ? 1 : 0; $vwpalm4is_z3qlki = $vwpalm4is_z3qlki + empty($i2sdk_options['api_key']) ? 1 : 0; $vwpalm4is_z3qlki = $vwpalm4is_z3qlki + class_exists('i2sdk_class') ? 0 : 1; return $vwpalm4is_z3qlki; } function wpalm4is_w6yz729x() { $vwpalm4is_i_aeud = 'manage_options'; if (! current_user_can($vwpalm4is_i_aeud) ) { return; } global $i2sdk; $vwpalm4is_r_iub593 = $this->license_status; $vwpalm4is_pkbumzw = 'dashicons-groups';  $vwpalm4is_vsmw53_cfzn = get_option('i2sdk'); $vwpalm4is_evaq_p1wogm = 'memberium'; $vwpalm4is_gu2xh6_jz73q = $vwpalm4is_i_aeud; $vwpalm4is_dhudisp = 2; $vwpalm4is_v4c9ip7ju = $this->wpalm4is_mgevs8nbw2();  if (! empty($vwpalm4is_v4c9ip7ju) ) { add_menu_page('', 'Memberium ' . $this->wpalm4is_hc4e6xf(1, 'Alert'), $vwpalm4is_i_aeud, $vwpalm4is_evaq_p1wogm, array($this, 'wpalm4is__qbsu1'), $vwpalm4is_pkbumzw, $vwpalm4is_dhudisp); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Support', 'Support', $vwpalm4is_gu2xh6_jz73q, 'memberium-support', array($this, 'wpalm4is_heft4oy97ab') ); if (class_exists('i2sdk_class') ) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'i2SDK', "i2SDK " . $this->wpalm4is_hc4e6xf(1, 'Unconfigured'), $vwpalm4is_i_aeud, 'i2sdk-admin', 'i2sdk_admin_menu'); } return; }  if (! $vwpalm4is_r_iub593) { add_menu_page('Memberium', 'Memberium', $vwpalm4is_i_aeud, $vwpalm4is_evaq_p1wogm, array($this, 'wpalm4is__qbsu1'), $vwpalm4is_pkbumzw, $vwpalm4is_dhudisp); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Support', 'Support', $vwpalm4is_gu2xh6_jz73q, 'memberium-support', array($this, 'wpalm4is_heft4oy97ab') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'i2SDK', 'i2SDK', $vwpalm4is_i_aeud, 'i2sdk-admin', 'i2sdk_admin_menu'); add_submenu_page($vwpalm4is_evaq_p1wogm, '', '', $vwpalm4is_i_aeud, $vwpalm4is_evaq_p1wogm, array($this, 'wpalm4is_hy_ks4op1x3i') ); return; }  if (! class_exists('i2sdk_class') || ! method_exists($i2sdk, 'isVerified') || ! $i2sdk->isVerified() ) { add_menu_page('Memberium', 'Memberium', $vwpalm4is_i_aeud, $vwpalm4is_evaq_p1wogm, array($this, 'wpalm4is__qbsu1'), $vwpalm4is_pkbumzw, $vwpalm4is_dhudisp); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Support', 'Support', $vwpalm4is_gu2xh6_jz73q, 'memberium-support', array($this, 'wpalm4is_heft4oy97ab') ); if (class_exists('i2sdk_class') ) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'i2SDK', 'i2SDK', $vwpalm4is_i_aeud, 'i2sdk-admin', 'i2sdk_admin_menu'); } return; }  add_menu_page('', 'Memberium', $vwpalm4is_gu2xh6_jz73q, $vwpalm4is_evaq_p1wogm, '', $vwpalm4is_pkbumzw, $vwpalm4is_dhudisp); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Start Here', 'Start Here', $vwpalm4is_gu2xh6_jz73q, $vwpalm4is_evaq_p1wogm, array($this, 'wpalm4is_hy_ks4op1x3i') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Support', 'Support', $vwpalm4is_gu2xh6_jz73q, 'memberium-support', array($this, 'wpalm4is_heft4oy97ab') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Settings', 'Settings', $vwpalm4is_gu2xh6_jz73q, 'memberium-options', array($this, 'wpalm4is_c3z6n549hiab') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Memberships', 'Memberships', $vwpalm4is_gu2xh6_jz73q, 'memberium-memberships', array($this, 'wpalm4is_phyj4bf17gi') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Partials', 'Partials', $vwpalm4is_gu2xh6_jz73q, 'edit.php?post_type=partials'); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Custom Shortcodes', 'Custom Shortcodes', $vwpalm4is_gu2xh6_jz73q, 'edit.php?post_type=memb_shortcodeblocks'); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium eCommerce Integration', 'eCommerce', $vwpalm4is_gu2xh6_jz73q, 'memberium-ecommerce', array($this, 'wpalm4is_o_tjogfubaic') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Remote Files Configuration', 'Remote Files', $vwpalm4is_gu2xh6_jz73q, 'memberium-remote-files', array($this, 'wpalm4is_npk4y809') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Sync Options', 'Sync Options', $vwpalm4is_gu2xh6_jz73q, 'memberium-sync-options', array($this, 'wpalm4is_sto_n2hv05c') ); do_action('memberium_admin_menu_addons', $vwpalm4is_evaq_p1wogm); if (false) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'Add-on Store', 'Add-on Store', $vwpalm4is_i_aeud, 'addon-store', array($this, 'wpalm4is_jptecb') ); if (extension_loaded('newrelic') ) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium New Relic', 'New Relic', $vwpalm4is_i_aeud, 'new-relic', array($this, 'wpalm4is_zbaz976exks4') ); } } if (defined('WPCW_PLUGIN_ID') ) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium WP Courseware', 'WP Courseware', $vwpalm4is_i_aeud, 'memberium-wpcw', array($this, 'wpalm4is_ke5jpk9og0') ); }  if (defined('WPSEO_FILE') || defined('GAWP_FILE') ) { add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Google Analytics', 'Google Analytics', $vwpalm4is_i_aeud, 'memberium-ga', array($this, 'wpalm4is_y_f926ph') ); } $vwpalm4is_v4c9ip7ju = $this->wpalm4is_po9laznhei(); add_submenu_page($vwpalm4is_evaq_p1wogm, 'Memberium Logs', 'Logs '. $this->wpalm4is_hc4e6xf($vwpalm4is_v4c9ip7ju), $vwpalm4is_i_aeud, 'memberium-logs', array($this, 'wpalm4is_h0vcyobj') ); add_submenu_page($vwpalm4is_evaq_p1wogm, 'i2SDK', 'i2SDK', $vwpalm4is_i_aeud, 'i2sdk-admin', 'i2sdk_admin_menu'); if (MEMBERIUM_DEBUG) {  } add_submenu_page(null, null, null, $vwpalm4is_gu2xh6_jz73q, 'dashboard', array($this, 'wpalm4is_hy_ks4op1x3i') ); add_submenu_page(null, null, null, $vwpalm4is_gu2xh6_jz73q, 'memberium-welcome-screen', array($this, 'wpalm4is_hy_ks4op1x3i') ); }     static function wpalm4is_lmkzb10c() { $vwpalm4is_ql0mb4js6 = 'memberium::manualupdate::list'; $vwpalm4is_epx5zge = base64_decode('aHR0cHM6Ly9saWNlbnNlc2VydmVyLndlYnBvd2VyYW5kbGlnaHQuY29tL3VwZGF0ZXMvdXBkYXRlLWxpc3QucGhw');  $vwpalm4is_n0wrho_2u = get_transient($vwpalm4is_ql0mb4js6); $result = array(); if (is_array($vwpalm4is_n0wrho_2u) ) { $result = $vwpalm4is_n0wrho_2u; } else { $vwpalm4is_n0wrho_2u = wp_remote_get($vwpalm4is_epx5zge);  if (is_array($vwpalm4is_n0wrho_2u) ) { $vwpalm4is_n0wrho_2u = json_decode($vwpalm4is_n0wrho_2u['body'], true); set_transient($vwpalm4is_ql0mb4js6, $vwpalm4is_n0wrho_2u, 600); } } return $vwpalm4is_n0wrho_2u; } static function wpalm4is__adnrwe($vwpalm4is_io0yta6mhw = 'memberium2') { if (! wp_is_writable(__DIR__) ) { echo 'Plugin Folder Not Writeable</p>'; return; } $vwpalm4is__fm23nz = self::wpalm4is_lmkzb10c(); $vwpalm4is_asrkp_b51z = memberium_app()->wpalm4is_zktb2lnm(); $output = '<select name="manual_upgrade" style="width:250px !important;">'; if (is_array($vwpalm4is__fm23nz) ) { foreach ($vwpalm4is__fm23nz as $vwpalm4is_vzoj7cv_rsly=>$vwpalm4is__i1lyv507t6) { $output .= '<option value="' . $vwpalm4is_vzoj7cv_rsly . '" ' .($vwpalm4is_asrkp_b51z == $vwpalm4is__i1lyv507t6['version'] ? ' selected="selected" ' : '') . '>' . $vwpalm4is__i1lyv507t6['name'] . ' ' . $vwpalm4is__i1lyv507t6['comments'] . '</option>'; } } $output .= '</select>&nbsp;<input name="manual_upgrade_confirm" value="1" type="checkbox">Confirm Update'; return $output; } static function wpalm4is_rrg1bfqj3($vwpalm4is_gen1ktojfvi = false, $vwpalm4is_io0yta6mhw) { $vwpalm4is__fm23nz = self::wpalm4is_lmkzb10c($vwpalm4is_io0yta6mhw); if (isset($vwpalm4is__fm23nz[$vwpalm4is_gen1ktojfvi]['url']) ) { $vwpalm4is_rrmeu9sv_c = WP_PLUGIN_DIR; $vwpalm4is_ln6wad0myo = ABSPATH . '.maintenance'; $vwpalm4is_jgm_1ps5ytq = 'PD9waHAgJHVwZ3JhZGluZyA9IHRpbWUoKTs=';  $vwpalm4is_meipkac = $vwpalm4is__fm23nz[$vwpalm4is_gen1ktojfvi]['url'];  ignore_user_abort();   file_put_contents($vwpalm4is_ln6wad0myo, $vwpalm4is_jgm_1ps5ytq);  $vwpalm4is_sylaucvd16 = $vwpalm4is_zi96wnzyh0o = download_url($vwpalm4is_meipkac, 300);  if (file_exists($vwpalm4is_sylaucvd16) ) { require_once ABSPATH .'/wp-admin/includes/file.php';  WP_Filesystem(); unzip_file($vwpalm4is_sylaucvd16, $vwpalm4is_rrmeu9sv_c); unlink($vwpalm4is_sylaucvd16); } unlink(ABSPATH . '.maintenance'); echo '<p>Upgrade Process Completed.</p>'; echo '<p><a href="', admin_url(), 'admin.php?page=memberium">Continue</a></p>'; exit; } else { wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('<p><strong>Memberium</strong>:  Unable to install update</p>', 'error'); } }    function wpalm4is_wlt8ja($user_id, $old_user_data) {   } function wpalm4is_dti9secjxdh($vwpalm4is_tcon6xrp) { global $wpdb; $vwpalm4is_n_bsw6d3x = get_userdata($vwpalm4is_tcon6xrp); $vwpalm4is_s13i75n4ph = wpalm4is_bd5uye4ng3l::wpalm4is_titrm5z4($vwpalm4is_tcon6xrp); if ($vwpalm4is_s13i75n4ph > 0) { memberium_app()->wpalm4is_lydups4($vwpalm4is_s13i75n4ph); } } function wpalm4is_lfyxiqh5a() {  global $wpdb;  $vwpalm4is_cevdqnb5lzm = 'SET SQL_BIG_SELECTS = 1;'; $wpdb->query($vwpalm4is_cevdqnb5lzm); $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_TAGS; $vwpalm4is_cevdqnb5lzm = "SELECT " . "`{$vwpalm4is_q35jf97eg4}_2`.`id` as `id`, " . "{$vwpalm4is_q35jf97eg4}.id as payf_id, " . "{$vwpalm4is_q35jf97eg4}_3.id as cancel_id, " . "{$vwpalm4is_q35jf97eg4}_4.id as suspend_id, " . "{$vwpalm4is_q35jf97eg4}_2.name " . "FROM " . "{$vwpalm4is_q35jf97eg4}, " . "{$vwpalm4is_q35jf97eg4} as {$vwpalm4is_q35jf97eg4}_2 " . "LEFT OUTER JOIN  {$vwpalm4is_q35jf97eg4} as {$vwpalm4is_q35jf97eg4}_3 ON CONCAT({$vwpalm4is_q35jf97eg4}_2.name, 'CANC') = {$vwpalm4is_q35jf97eg4}_3.name AND {$vwpalm4is_q35jf97eg4}_3.appname = '{$this->appname}' " . "LEFT OUTER JOIN  {$vwpalm4is_q35jf97eg4} as {$vwpalm4is_q35jf97eg4}_4 ON CONCAT({$vwpalm4is_q35jf97eg4}_2.name, 'SUSP') = {$vwpalm4is_q35jf97eg4}_4.name AND {$vwpalm4is_q35jf97eg4}_4.appname = '{$this->appname}' " . "WHERE CONCAT({$vwpalm4is_q35jf97eg4}_2.name, 'PAYF') = {$vwpalm4is_q35jf97eg4}.name " . "AND {$vwpalm4is_q35jf97eg4}.appname   = '{$this->appname}' " . "AND {$vwpalm4is_q35jf97eg4}_2.appname = '{$this->appname}' " . "ORDER BY " . "{$vwpalm4is_q35jf97eg4}_2.name ASC"; $vwpalm4is_y1jnciaz0fk = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A); $vwpalm4is_z1mp07jxe = array(); foreach ($vwpalm4is_y1jnciaz0fk as $vwpalm4is_lei9x5) { $vwpalm4is_z1mp07jxe[$vwpalm4is_lei9x5['id']] = array( 'name' => $vwpalm4is_lei9x5['name'], 'payf_id' => $vwpalm4is_lei9x5['payf_id'], 'cancel_id' => $vwpalm4is_lei9x5['cancel_id'], 'suspend_id' => $vwpalm4is_lei9x5['suspend_id'] );  } return $vwpalm4is_z1mp07jxe; } function wpalm4is_l1p49gmzq2da($vwpalm4is_zx43rky_j, $vwpalm4is_cpaohgn0 = 'Text', $vwpalm4is_ra5pz9km = 0) { global $i2sdk; if (empty($vwpalm4is_zx43rky_j) ) { return; } $vwpalm4is_zx43rky_j = trim($vwpalm4is_zx43rky_j); $vwpalm4is_ra5pz9km = (int) $vwpalm4is_ra5pz9km; $vwpalm4is_cpaohgn0 = trim($vwpalm4is_cpaohgn0); if ($vwpalm4is_ra5pz9km == 0) { $vwpalm4is_mq3gv6sdxeu = array('Id', 'Name'); $vwpalm4is_fqzgw57 = array('Id' => '%'); $vwpalm4is_cpqtikzwn6b = $i2sdk->isdk->dsQuery('DataFormGroup', 1000, 0, $vwpalm4is_fqzgw57, $vwpalm4is_mq3gv6sdxeu); $vwpalm4is_ra5pz9km = (int)$vwpalm4is_cpqtikzwn6b[0]['Id']; } if ($vwpalm4is_ra5pz9km > 0) { $vwpalm4is_ukra4p = $i2sdk->isdk->addCustomField('Contact', trim($_POST['new_password_field']), $vwpalm4is_cpaohgn0, $vwpalm4is_ra5pz9km); $i2sdk->syncCustomFields(); } else { wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('Unable to add new custom field.  Please create a custom tab and custom group in Infusionsoft first.'); } }  static function wpalm4is_st6_7rm4za0g($vwpalm4is_szexg1su6 = array() ) { global $wpdb; $vwpalm4is_vx_n8e7hdrbo = array( 'exclude' => 'topic,reply' . (defined('MEMBERIUM_IGNORE_POSTTYPE') ? (',' . MEMBERIUM_IGNORE_POSTTYPE) : ''), 'entries' => array(), ); $vwpalm4is_szexg1su6 = wp_parse_args($vwpalm4is_szexg1su6, $vwpalm4is_vx_n8e7hdrbo); $vwpalm4is_szexg1su6['exclude'] = "'" . implode("','", explode(',', $vwpalm4is_szexg1su6['exclude']) ) . "'"; unset($vwpalm4is_vx_n8e7hdrbo); $vwpalm4is_cevdqnb5lzm = "SELECT `ID`, `post_title` FROM `{$wpdb->posts}` WHERE `post_status` = 'publish' AND `post_type` IN ('" . implode("','", wpalm4is_yf0g75hqk184::wpalm4is_c72lovki() ) . "') AND `post_type` NOT IN (" . $vwpalm4is_szexg1su6['exclude'] . ") ORDER BY `id` ASC;"; $vwpalm4is_ecwut_1g0lx = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A); $vwpalm4is_ejengfdyi[] = array('id' => 0, 'text' => '(Default / Homepage)'); foreach ($vwpalm4is_ecwut_1g0lx as $vwpalm4is_vzoj7cv_rsly=>$vwpalm4is_cshmxpk) { $vwpalm4is_ejengfdyi[] = array('id' => $vwpalm4is_cshmxpk['ID'], 'text' => $vwpalm4is_cshmxpk['post_title'] . ' (' . $vwpalm4is_cshmxpk['ID'] . ')'); unset($vwpalm4is_ecwut_1g0lx[$vwpalm4is_vzoj7cv_rsly]); } unset($vwpalm4is_cshmxpk, $vwpalm4is_cevdqnb5lzm); $vwpalm4is_ejengfdyi = json_encode($vwpalm4is_ejengfdyi); return $vwpalm4is_ejengfdyi; } function wpalm4is_hx5ekntjf($vwpalm4is_szexg1su6 = array() ) { $vwpalm4is_szexg1su6['remove_tags'] = isset($vwpalm4is_szexg1su6['remove_tags']) ? (bool) $vwpalm4is_szexg1su6['remove_tags'] : false; $vwpalm4is_szexg1su6['remove_prefix'] = isset($vwpalm4is_szexg1su6['remove_prefix']) ? trim($vwpalm4is_szexg1su6['remove_prefix']) : 'Remove '; $vwpalm4is_szexg1su6['none'] = isset($vwpalm4is_szexg1su6['none']) ? trim($vwpalm4is_szexg1su6['none']) : ''; $vwpalm4is_gf2m1t7v8nbz = wpalm4is_l9n25d::wpalm4is_d35w2jzaf(true); $vwpalm4is_gf2m1t7v8nbz = $vwpalm4is_gf2m1t7v8nbz['mc']; $vwpalm4is_pos1lk = array(); if (! empty($vwpalm4is_szexg1su6['none']) ) { $vwpalm4is_pos1lk[] = array('id' => 0, 'text' => $vwpalm4is_szexg1su6['none']); } foreach ( (array) $vwpalm4is_gf2m1t7v8nbz as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_agvwtn) { $vwpalm4is_pos1lk[] = array('id' => $vwpalm4is_vzoj7cv_rsly, 'text' => $vwpalm4is_agvwtn . ' (' . $vwpalm4is_vzoj7cv_rsly . ')'); if (! empty($vwpalm4is_szexg1su6['remove_tags']) ) { $vwpalm4is_pos1lk[] = array('id' => (0 - $vwpalm4is_vzoj7cv_rsly), 'text' => $vwpalm4is_szexg1su6['remove_prefix'] . ' ' . $vwpalm4is_agvwtn . ' (' . $vwpalm4is_vzoj7cv_rsly . ')'); } } $vwpalm4is_pos1lk = json_encode($vwpalm4is_pos1lk); return $vwpalm4is_pos1lk; } function wpalm4is_d_qhm4js7($vwpalm4is_g87myl0d = array() ) { $vwpalm4is_n_bsw6d3x = get_user_by('id', get_current_user_id() ); $vwpalm4is_sx8pk176_hl = $vwpalm4is_n_bsw6d3x->allcaps; $vwpalm4is_qstn5y3x4k = array(); foreach($vwpalm4is_sx8pk176_hl as $cap => $caps) { $vwpalm4is_qstn5y3x4k[] = array( 'id' => $cap, 'text' => ucwords(strtr($cap, '_', ' ') ) ); } return json_encode($vwpalm4is_qstn5y3x4k); } function wpalm4is__1mnbg4o3s5r($args = array() ) { }    function wpalm4is_ezmvyosj3i() { $vwpalm4is_wikmdre = isset($_GET['post']) ? $_GET['post'] : 0; if ($vwpalm4is_wikmdre == 0) { $vwpalm4is_wikmdre = isset($_POST['post_ID']) ? $_POST['post_ID'] : 0; } if ($vwpalm4is_wikmdre > 0) { $vwpalm4is_xvesxnc2dk = get_post_type($vwpalm4is_wikmdre); } if (empty($vwpalm4is_xvesxnc2dk) ) { $vwpalm4is_xvesxnc2dk = isset($_GET['post_type']) ? $_GET['post_type'] : 'post'; } if (! in_array($vwpalm4is_xvesxnc2dk, $this->non_enhanced_post_types) ) { add_meta_box('is4wp-member-access', 'Content Protection', array($this, 'wpalm4is_gswqmjdc'), $vwpalm4is_xvesxnc2dk, 'side'); add_meta_box('is4wp-page-templates', 'Membership Templates', array($this, 'wpalm4is_wserb9_xvmq'), $vwpalm4is_xvesxnc2dk, 'normal'); add_meta_box('is4wp-member-access', 'Content Protection', array($this, 'wpalm4is_gswqmjdc'), $vwpalm4is_xvesxnc2dk, 'side'); add_action('save_post', array($this, 'wpalm4is_rwntfv6x') ); add_action('save_post', array($this, 'wpalm4is_frzn1tp') ); if (user_can(get_current_user_id(), 'manage_options') ) { if (in_array($vwpalm4is_xvesxnc2dk, wpalm4is_yf0g75hqk184::wpalm4is_c72lovki() ) ) { if (! in_array($vwpalm4is_xvesxnc2dk, array('partials', 'memb_shortcodeblocks', 'elementor_library') ) ) { add_meta_box('is4wp-custom-code', 'Memberium Custom Page Code', array($this, 'wpalm4is_fkyfxbv'), $vwpalm4is_xvesxnc2dk, 'normal'); add_action('save_post', array($this, 'wpalm4is_c2voajl_') ); } } } } if (class_exists('WooCommerce') ) { $vwpalm4is_km7hkou03 = array( 'product', ); $vwpalm4is_olbw3mahfy0 = isset($_GET['post_type']) ? $_GET['post_type'] : 'post'; if (defined('MEMBERIUM_BETA') && MEMBERIUM_BETA) { if (in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_km7hkou03) ) { add_meta_box('is4wp-woocommerce', 'WooCommerce', array($this, 'wpalm4is_ct2_7nok4'), $vwpalm4is_xvesxnc2dk, 'side'); } } } if (class_exists('LearnPress') ) { $vwpalm4is_bju8az0r4 = array( 'lp_course', 'lp_lesson', 'lp_quiz', ); if (in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_bju8az0r4) ) { add_meta_box('is4wp-learnpress-actions', 'LearnPress Memberium Integration', array($this, 'wpalm4is_dxo07vez5m'), $vwpalm4is_xvesxnc2dk, 'side'); } } if (defined('WPCW_PLUGIN_ID') ) { $vwpalm4is_q4bi8xa_u = array( 'course_unit', ); if (in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_q4bi8xa_u) ) { add_meta_box('is4wp-wpcw-actions', 'WP Courseware Memberium Integration', array($this, 'wpalm4is_hpg3vi78'), $vwpalm4is_xvesxnc2dk, 'side'); } } if (class_exists('LifterLMS') ) { $vwpalm4is_f6rcv0ehxl4b = array( 'course', 'lesson', 'llms_quiz', ); if (in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_f6rcv0ehxl4b) ) { add_meta_box('is4wp-lifterlms-actions', 'LifterLMS Memberium Integration', array($this, 'wpalm4is_akls30i65'), $vwpalm4is_xvesxnc2dk, 'side'); } } if (class_exists('Sensei_Main') ) { $vwpalm4is_ca1lqjfwxti_ = array( 'course', 'lesson', ); if (in_array($vwpalm4is_xvesxnc2dk, $vwpalm4is_ca1lqjfwxti_) ) { add_meta_box('is4wp-sensei-actions', 'Sensei Memberium Integration', array($this, 'wpalm4is_vitq7exp2ns'), $vwpalm4is_xvesxnc2dk, 'side'); } } unset($vwpalm4is_q4bi8xa_u, $vwpalm4is_ca1lqjfwxti_, $vwpalm4is_f6rcv0ehxl4b); $vwpalm4is_ntkyxq = array('memb_shortcodeblocks', 'reply', 'topic',); if (class_exists('BadgeOS') ) { $vwpalm4is_ntkyxq[] = 'achievement-type'; $vwpalm4is_ntkyxq[] = 'badges'; $vwpalm4is_ntkyxq[] = 'nomination'; $vwpalm4is_ntkyxq[] = 'badgeos-log-entry'; } add_action('admin_footer', array($this, 'wpalm4is_q4m5gb') ); add_action('save_post', array($this, 'wpalm4is_s3lc49ed') ); add_action('save_post', array($this, 'wpalm4is_kox9vnya3id') ); }  function wpalm4is_s3lc49ed($vwpalm4is_wikmdre) { $vwpalm4is_sxkc2voun = $_POST;  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; }  if (empty($vwpalm4is_sxkc2voun['memberium_membershipaccess_nonce']) || ! wp_verify_nonce($vwpalm4is_sxkc2voun['memberium_membershipaccess_nonce'], MEMBERIUM_LIB) ) { return; } if (! current_user_can('edit_posts', $vwpalm4is_wikmdre) ) { return; } $vwpalm4is_n8_9zsw4x5ch = array( '_is4wp_learndash_achievement', '_is4wp_learndash_actions', '_is4wp_learndash_assignment_approved_actions', '_is4wp_learndash_assignment_approved_tags', '_is4wp_learndash_assignment_upload_actions', '_is4wp_learndash_assignment_upload_tags', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_badges', '_is4wp_learndash_fail_actions', '_is4wp_learndash_fail_goals', '_is4wp_learndash_fail_tags', '_is4wp_learndash_goals', '_is4wp_learndash_orientation', '_is4wp_learndash_pdfformat', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ); foreach($vwpalm4is_n8_9zsw4x5ch as $vwpalm4is_x3e6m_hobj) { $vwpalm4is_sxkc2voun[$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_sxkc2voun[$vwpalm4is_x3e6m_hobj]) ? $vwpalm4is_sxkc2voun[$vwpalm4is_x3e6m_hobj] : ''; add_post_meta($vwpalm4is_wikmdre, $vwpalm4is_x3e6m_hobj, $vwpalm4is_sxkc2voun[$vwpalm4is_x3e6m_hobj], true) or update_post_meta($vwpalm4is_wikmdre, $vwpalm4is_x3e6m_hobj, $vwpalm4is_sxkc2voun[$vwpalm4is_x3e6m_hobj]); } } function wpalm4is_q4m5gb() { echo '<!-- metabox footer -->';   $vwpalm4is_gf2m1t7v8nbz = wpalm4is_l9n25d::wpalm4is_d35w2jzaf(TRUE); $vwpalm4is_gf2m1t7v8nbz = $vwpalm4is_gf2m1t7v8nbz['mc']; $vwpalm4is_pos1lk = array(); $vwpalm4is_pos1lk[] = array('id' => 0, 'text' => '(None)'); foreach ( (array) $vwpalm4is_gf2m1t7v8nbz as $vwpalm4is_bwa6i5zhudbv => $vwpalm4is_agvwtn) { $vwpalm4is_pos1lk[] = array('id' => $vwpalm4is_bwa6i5zhudbv, 'text' => $vwpalm4is_agvwtn . ' (' . $vwpalm4is_bwa6i5zhudbv . ')'); } $vwpalm4is_pos1lk = json_encode($vwpalm4is_pos1lk); unset($vwpalm4is_gf2m1t7v8nbz, $vwpalm4is_bwa6i5zhudbv, $vwpalm4is_agvwtn); echo '<script>'; echo '	var taglist = ', $vwpalm4is_pos1lk, ';'; echo '</script>'; unset($actionsets, $vwpalm4is_gf2m1t7v8nbz); wp_register_script('memberium_postmeta', plugin_dir_url(MEMBERIUM_HOME) . '/js/postmetabox.js', null, true); wp_enqueue_script('memberium_postmeta'); } function wpalm4is_ct2_7nok4() {   } function wpalm4is_fak735() {   } function wpalm4is_wserb9_xvmq() { $vwpalm4is_w7xmt0 = $this->wpalm4is_qpwy6rlcu(); echo '<div class="memb_template_options">'; echo '<label for="_is4wp_page_template">' . _e("Install Page Template", 'memberium') . '</label> '; echo '<select class="actionset-selector" name="_is4wp_page_template" style="width:100%; max-width:100%">'; echo '<option value="">(No Template)</option>'; if (is_array($vwpalm4is_w7xmt0) ) { foreach ($vwpalm4is_w7xmt0 as $vwpalm4is_u38fgnwpy2z => $vwpalm4is_fxavjf2) { echo '<option value="', $vwpalm4is_u38fgnwpy2z + 1, '">', $vwpalm4is_fxavjf2['name'], '</option>'; } } echo '</select>'; echo '</div>'; } function wpalm4is_frzn1tp() { $vwpalm4is_sxkc2voun = $_POST; if (! empty($vwpalm4is_sxkc2voun['_is4wp_page_template']) ) { $this->wpalm4is_x8tx1rgoe($vwpalm4is_sxkc2voun['post_ID'], ($vwpalm4is_sxkc2voun['_is4wp_page_template'] - 1) ); } return; } function wpalm4is_fkyfxbv() { global $post; $vwpalm4is_p536eja = get_post_meta($post->ID, '_iswp_custom_code', true); $defaults = array( 'head' => '', 'css' => '', 'js' => '', ); $vwpalm4is_p536eja = wp_parse_args($vwpalm4is_p536eja, $defaults); wp_nonce_field(MEMBERIUM_LIB, 'memberium_customcode_nonce'); echo '<p>HTML Head Code</p>'; echo '<textarea id="is4wp_html_head" name="is4wp_html_head" placeholder="Head HTML Code" rows="3" cols="30" style="width:100%;">', $vwpalm4is_p536eja['head'], '</textarea>'; echo '<p>CSS Code</p>'; echo '<textarea id="is4wp_css" name="is4wp_css" placeholder="Enter your custom CSS code here.  <style> tags are automatically included." rows="3" cols="30" style="width:100%;">', $vwpalm4is_p536eja['css'], '</textarea>'; echo '<p>JavaScript Code</p>'; echo '<textarea id="is4wp_js" name="is4wp_js" rows=3 cols=30 placeholder="JavaScript Code.  <script> tags are automatically included." style="width:100%;">', $vwpalm4is_p536eja['js'], '</textarea>'; $vwpalm4is_yhcb4u7 = method_exists('wp_screen','is_block_editor') ? get_current_screen()->is_block_editor() : false;  if (! $vwpalm4is_yhcb4u7) { echo '<style>
				.CodeMirror { height: auto !important; border: 1px solid #ddd; }
				.CodeMirror-scroll { min-height: 100px !important; max-height:300px !important; }
				</style>';  if (get_bloginfo('version') >= '4.9') { $vwpalm4is_xf61kj8yxd = array( 'is4wp_css' => 'text/css', 'is4wp_html_head' => 'text/html',  'is4wp_js' => 'application/javascript', ); foreach($vwpalm4is_xf61kj8yxd as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_wkzcwa_hvu3) { $vwpalm4is_ne17fdv8uw4 = wp_enqueue_code_editor(array('type' => $vwpalm4is_wkzcwa_hvu3) ); wp_add_inline_script( 'code-editor', sprintf( 'jQuery(function() { wp.codeEditor.initialize("' . $vwpalm4is_vzoj7cv_rsly . '", %s); });', wp_json_encode($vwpalm4is_ne17fdv8uw4) ) ); } } } } function wpalm4is_c2voajl_($vwpalm4is_wikmdre) { $vwpalm4is_sxkc2voun = $_POST;  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; }  if (empty($vwpalm4is_sxkc2voun['memberium_customcode_nonce']) || ! wp_verify_nonce($vwpalm4is_sxkc2voun['memberium_customcode_nonce'], MEMBERIUM_LIB) ) { return; }  if (! empty($vwpalm4is_sxkc2voun['post_type']) && 'page' == $vwpalm4is_sxkc2voun['post_type']) { if (! current_user_can('edit_pages', $vwpalm4is_wikmdre) ) { return; } } else { if (! current_user_can('edit_posts', $vwpalm4is_wikmdre) ) { return; } } $vwpalm4is_p536eja = array( 'head' => isset($vwpalm4is_sxkc2voun['is4wp_html_head']) ? trim($vwpalm4is_sxkc2voun['is4wp_html_head']) : '', 'css' => isset($vwpalm4is_sxkc2voun['is4wp_css']) ? trim($vwpalm4is_sxkc2voun['is4wp_css']) : '', 'js' => isset($vwpalm4is_sxkc2voun['is4wp_js']) ? trim($vwpalm4is_sxkc2voun['is4wp_js']) : '', ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'custom_code', $vwpalm4is_p536eja); }   function wpalm4is_hpg3vi78() { global $vwpalm4is_sxkc2voun;  $vwpalm4is_ougfb1hd = get_post_meta($vwpalm4is_sxkc2voun->ID); $vwpalm4is_p536eja = array(); $vwpalm4is_n8_9zsw4x5ch = array( '_is4wp_wpcw_completion_tag', ); foreach($vwpalm4is_n8_9zsw4x5ch as $vwpalm4is_x3e6m_hobj) { $vwpalm4is_p536eja[$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_ougfb1hd[$vwpalm4is_x3e6m_hobj][0]) ? $vwpalm4is_ougfb1hd[$vwpalm4is_x3e6m_hobj][0] : ''; } wp_nonce_field(MEMBERIUM_LIB, 'memberium_membershipaccess_nonce'); if (in_array($vwpalm4is_sxkc2voun->post_type, array('course_unit') ) ) { echo '<label for="_is4wp_wpcw_completion_tag">' . _e("Unit Completion Tag", 'memberium') . ':</label> '; echo '<input name="_is4wp_wpcw_completion_tag" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_wpcw_completion_tag'] > '' ? $vwpalm4is_p536eja['_is4wp_wpcw_completion_tag'] : ''), '"><br /><br />'; } } function wpalm4is_kox9vnya3id($vwpalm4is_wikmdre) {  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; } $vwpalm4is_shdt97s1o_3 = $_POST;  if (empty($vwpalm4is_shdt97s1o_3['memberium_membershipaccess_nonce']) || ! wp_verify_nonce($vwpalm4is_shdt97s1o_3['memberium_membershipaccess_nonce'], MEMBERIUM_LIB) ) { return; } if (! current_user_can('edit_posts', $vwpalm4is_wikmdre) ) { return; } $fieldnames = array( '_is4wp_wpcw_completion_tag', ); foreach($fieldnames as $key) { $vwpalm4is_shdt97s1o_3[$key] = isset($vwpalm4is_shdt97s1o_3[$key]) ? $vwpalm4is_shdt97s1o_3[$key] : ''; add_post_meta($vwpalm4is_wikmdre, $key, $vwpalm4is_shdt97s1o_3[$key], true) or update_post_meta($vwpalm4is_wikmdre, $key, $vwpalm4is_shdt97s1o_3[$key]); } }  function wpalm4is_dxo07vez5m() { global $post;  $vwpalm4is_atpg7jwfrm9 = get_post_meta($post->ID); $vwpalm4is_p536eja = array(); $vwpalm4is_n8_9zsw4x5ch = array( '_is4wp_learndash_achievement', '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_badges', '_is4wp_learndash_fail_actions', '_is4wp_learndash_fail_goals', '_is4wp_learndash_fail_tags', '_is4wp_learndash_goals', '_is4wp_learndash_orientation', '_is4wp_learndash_pdfformat', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ); foreach($vwpalm4is_n8_9zsw4x5ch as $vwpalm4is_x3e6m_hobj) { $vwpalm4is_p536eja[$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0]) ? $vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0] : ''; } unset($vwpalm4is_ougfb1hd, $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_x3e6m_hobj); wp_nonce_field(MEMBERIUM_LIB, 'memberium_membershipaccess_nonce'); $vwpalm4is_n8_9zsw4x5ch = array('' => '(None)'); $vwpalm4is_iomhdlzi73g5 = wpalm4is_bd5uye4ng3l::wpalm4is_qpf_6x7('contact', true); foreach($vwpalm4is_iomhdlzi73g5 as $vwpalm4is_cbkmin3z) { $vwpalm4is_n8_9zsw4x5ch[$vwpalm4is_cbkmin3z] = $vwpalm4is_cbkmin3z; } unset($vwpalm4is_iomhdlzi73g5, $vwpalm4is_cbkmin3z); $vwpalm4is_g87myl0d = array( 'class' => 'actionset-selected', 'style' => 'width:250px;', ); $vwpalm4is_uh2glicj0 = array('lp_course', 'lp_lesson', 'lp_quiz'); if (in_array($post->post_type, $vwpalm4is_uh2glicj0) ) { if (in_array($post->post_type, array('lp_course') ) ) { echo '<label for="_is4wp_learndash_autoenroll">' . _e("AutoEnroll Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_autoenroll" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] : ''), '"><br /><br />'; } echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_goals" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_goals'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_goals'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_tags" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_tags'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_tags'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_actions">' . _e("Run this Actionset", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; $vwpalm4is_l6ih20yjwm = memberium_app()->wpalm4is_nko9d6hy8c(); foreach ($vwpalm4is_l6ih20yjwm as $vwpalm4is_nlh58m=>$vwpalm4is_govdmylcgq52) { echo '<option value="', $vwpalm4is_nlh58m, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_actions'] == $vwpalm4is_nlh58m ? ' selected="selected" ' : '') , '>', $vwpalm4is_govdmylcgq52, '</option>'; } unset($vwpalm4is_nlh58m, $vwpalm4is_govdmylcgq52); echo '</select>'; echo '<br /><br />'; if (in_array($post->post_type, array('lp_quiz') ) ) { echo '<p>If the student <strong style="color:red;">fails</strong> this test, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_fail_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_fail_goals" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_fail_goals'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_fail_goals'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_fail_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_fail_tags" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_fail_tags'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_fail_tags'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_fail_actions">' . _e("Run this Actionset", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="is4wp_learndash_fail_actions" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; foreach ($vwpalm4is_l6ih20yjwm as $vwpalm4is_nlh58m=>$vwpalm4is_govdmylcgq52) { echo '<option value="', $vwpalm4is_nlh58m, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_fail_actions'] == $vwpalm4is_nlh58m ? ' selected="selected" ' : '') , '>', $vwpalm4is_govdmylcgq52, '</option>'; } echo '</select>'; $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_start_date']) ? $vwpalm4is_p536eja['_is4wp_lms_start_date'] : ''; echo '<label for="_is4wp_lms_start_date">' . _e("Start Date Field", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_start_date', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_complete_percent']) ? $vwpalm4is_p536eja['_is4wp_lms_complete_percent'] : ''; echo '<label for="_is4wp_lms_complete_percent">' . _e("Percent Complete", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_complete_percent', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; } unset($vwpalm4is_l6ih20yjwm, $vwpalm4is_nlh58m, $vwpalm4is_govdmylcgq52);   $vwpalm4is_itbqfac = memberium_app()->wpalm4is_g8x7vls(); if (! empty($vwpalm4is_itbqfac) ) { echo '<label for="_is4wp_learndash_achievement">' . _e("Award this Achievement", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_achievement" style="width:100%; max-width:100%">'; echo '<option value="0">(No Achievement)</option>'; foreach ($vwpalm4is_itbqfac as $vwpalm4is_anv6qjlyohc=>$vwpalm4is_aaju8bndvpx7) { echo '<option value="', $vwpalm4is_anv6qjlyohc, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_achievement'] == $vwpalm4is_anv6qjlyohc ? ' selected="selected" ' : '') , '>', $vwpalm4is_aaju8bndvpx7, '</option>'; } unset($vwpalm4is_anv6qjlyohc, $vwpalm4is_aaju8bndvpx7); echo '</select>'; echo '<br /><br />'; } } }  function wpalm4is_vitq7exp2ns() { global $post; $vwpalm4is_atpg7jwfrm9 = get_post_meta($post->ID); $vwpalm4is_p536eja = array(); $vwpalm4is_n8_9zsw4x5ch = array( '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_goals', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ); foreach($vwpalm4is_n8_9zsw4x5ch as $vwpalm4is_x3e6m_hobj) { $vwpalm4is_p536eja[$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0]) ? $vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0] : ''; } unset($metas, $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_x3e6m_hobj); wp_nonce_field(MEMBERIUM_LIB, 'memberium_membershipaccess_nonce'); $vwpalm4is_uh2glicj0 = array('course', 'lesson'); if (in_array($post->post_type, $vwpalm4is_uh2glicj0) ) { if ($post->post_type == 'course') { echo '<label for="_is4wp_learndash_autoenroll">' . _e("AutoEnroll Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_autoenroll" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] : ''), '"><br /><br />'; } echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_goals" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_goals'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_goals'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_tags" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_tags'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_tags'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_actions">' . _e("Run this Actionsets", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; $vwpalm4is_l6ih20yjwm = memberium_app()->wpalm4is_nko9d6hy8c(); foreach ($vwpalm4is_l6ih20yjwm as $vwpalm4is_nlh58m=>$vwpalm4is_govdmylcgq52) { echo '<option value="', $vwpalm4is_nlh58m, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_actions'] == $vwpalm4is_nlh58m ? ' selected="selected" ' : '') , '>', $vwpalm4is_govdmylcgq52, '</option>'; } unset($vwpalm4is_l6ih20yjwm, $vwpalm4is_nlh58m, $vwpalm4is_govdmylcgq52); echo '</select>'; echo '<hr />'; $vwpalm4is_n8_9zsw4x5ch = array('' => '(None)'); $vwpalm4is_iomhdlzi73g5 = wpalm4is_bd5uye4ng3l::wpalm4is_qpf_6x7('contact', true); foreach($vwpalm4is_iomhdlzi73g5 as $vwpalm4is_cbkmin3z) { $vwpalm4is_n8_9zsw4x5ch[$vwpalm4is_cbkmin3z] = $vwpalm4is_cbkmin3z; } unset($vwpalm4is_iomhdlzi73g5, $vwpalm4is_cbkmin3z); $vwpalm4is_g87myl0d = array( 'class' => 'actionset-selected', 'style' => 'width:250px;', ); $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_start_date']) ? $vwpalm4is_p536eja['_is4wp_lms_start_date'] : ''; echo '<label for="_is4wp_lms_start_date">' . _e("Start Date Field", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_start_date', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; if ($post->post_type == 'course') { $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_complete_percent']) ? $vwpalm4is_p536eja['_is4wp_lms_complete_percent'] : ''; echo '<label for="_is4wp_lms_complete_percent">' . _e("Percent Complete", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_complete_percent', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; } if ($post->post_type == 'lesson') { $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_grade']) ? $vwpalm4is_p536eja['_is4wp_lms_grade'] : ''; echo '<label for="_is4wp_lms_grade">' . _e("Grade", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_grade', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; $vwpalm4is_kh9vqi_6znd = isset($vwpalm4is_p536eja['_is4wp_lms_completed']) ? $vwpalm4is_p536eja['_is4wp_lms_completed'] : ''; echo '<label for="_is4wp_lms_completed">' . _e("Quiz Passed", 'memberium') . ':</label><br />'; wpalm4is_yf0g75hqk184::wpalm4is__x1dvwga('_is4wp_lms_completed', $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_kh9vqi_6znd, $vwpalm4is_g87myl0d); echo '<br>'; } echo '<hr />'; } }  function wpalm4is_akls30i65() {  global $post; $vwpalm4is_atpg7jwfrm9 = get_post_meta($post->ID); $vwpalm4is_p536eja = array(); $vwpalm4is_n8_9zsw4x5ch = array( '_is4wp_learndash_achievement', '_is4wp_learndash_actions', '_is4wp_learndash_autoenroll', '_is4wp_learndash_autojoin', '_is4wp_learndash_goals', '_is4wp_learndash_redirect', '_is4wp_learndash_shortcodes', '_is4wp_learndash_tags', '_is4wp_lms_complete_percent', '_is4wp_lms_completed', '_is4wp_lms_grade', '_is4wp_lms_start_date', ); foreach($vwpalm4is_n8_9zsw4x5ch as $vwpalm4is_x3e6m_hobj) { $vwpalm4is_p536eja[$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0]) ? $vwpalm4is_atpg7jwfrm9[$vwpalm4is_x3e6m_hobj][0] : ''; } unset($meta, $vwpalm4is_n8_9zsw4x5ch, $vwpalm4is_x3e6m_hobj); wp_nonce_field(MEMBERIUM_LIB, 'memberium_membershipaccess_nonce'); $vwpalm4is_uh2glicj0 = array('course', 'lesson', 'llms_quiz'); if (in_array($post->post_type, $vwpalm4is_uh2glicj0) ) { if ($post->post_type == 'course') { echo '<label for="_is4wp_learndash_autoenroll">' . _e("AutoEnroll Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_autoenroll" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_autoenroll'] : ''), '"><br /><br />'; } echo '<p>On completion of this section, execute the following actions:</p>'; echo '<label for="_is4wp_learndash_goals">' . _e("Achieve these Goals", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_goals" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_goals'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_goals'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_tags">' . _e("Apply these Tags", 'memberium') . ':</label> '; echo '<input name="_is4wp_learndash_tags" class="tag-selector" style="width:100%; max-width:100%" value="', ($vwpalm4is_p536eja['_is4wp_learndash_tags'] > '' ? $vwpalm4is_p536eja['_is4wp_learndash_tags'] : ''), '"><br /><br />'; echo '<label for="_is4wp_learndash_actions">' . _e("Run this Actionsets", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_actions" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; $vwpalm4is_l6ih20yjwm = memberium_app()->wpalm4is_nko9d6hy8c(); foreach ($vwpalm4is_l6ih20yjwm as $vwpalm4is_nlh58m=>$vwpalm4is_govdmylcgq52) { echo '<option value="', $vwpalm4is_nlh58m, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_actions'] == $vwpalm4is_nlh58m ? ' selected="selected" ' : '') , '>', $vwpalm4is_govdmylcgq52, '</option>'; } unset($vwpalm4is_l6ih20yjwm, $vwpalm4is_nlh58m, $vwpalm4is_govdmylcgq52); echo '</select>';  $vwpalm4is_itbqfac = memberium_app()->wpalm4is_g8x7vls(); if (! empty($vwpalm4is_itbqfac) ) { echo '<label for="_is4wp_learndash_achievement">' . _e("Award this Achievement", 'memberium') . ':</label> '; echo '<select class="actionset-selector" name="_is4wp_learndash_achievement" style="width:100%; max-width:100%">'; echo '<option value="0">(No Achievement)</option>'; foreach ($vwpalm4is_itbqfac as $vwpalm4is_anv6qjlyohc=>$vwpalm4is_aaju8bndvpx7) { echo '<option value="', $vwpalm4is_anv6qjlyohc, '" ', ($vwpalm4is_p536eja['_is4wp_learndash_achievement'] == $vwpalm4is_anv6qjlyohc ? ' selected="selected" ' : '') , '>', $vwpalm4is_aaju8bndvpx7, '</option>'; } unset($vwpalm4is_anv6qjlyohc, $vwpalm4is_aaju8bndvpx7); echo '</select>'; echo '<br /><br />'; } } } function wpalm4is_s27u41() { wp_enqueue_script('memberium-admin-edit', plugins_url('js/quickedit.js', MEMBERIUM_HOME), array('jquery', 'inline-edit-post'), '', TRUE); }       function wpalm4is_wm8vwb5ska($vwpalm4is_hv784iuwp) { $vwpalm4is_o12caohm = $_GET; $vwpalm4is_xvesxnc2dk = isset($vwpalm4is_o12caohm['post_type']) ? $vwpalm4is_o12caohm['post_type'] : ''; $vwpalm4is_rglv3b97 = array(); if ($vwpalm4is_xvesxnc2dk == 'memb_shortcodeblocks') { $vwpalm4is_rglv3b97['memb_custom_shortcode'] = __('Shortcode'); unset($vwpalm4is_hv784iuwp['categories'], $vwpalm4is_hv784iuwp['date']); } else { if ($vwpalm4is_xvesxnc2dk == 'partials') { $vwpalm4is_rglv3b97['memb_partial_shortcode'] = __('Shortcode'); unset($vwpalm4is_hv784iuwp['categories'], $vwpalm4is_hv784iuwp['date']); } $vwpalm4is_rglv3b97['memberships'] = __('Membership Levels'); $vwpalm4is_rglv3b97['tag_ids'] = __('Tag ID\'s'); $vwpalm4is_rglv3b97['prohibited_action'] = __('Prohibited Action'); if (! empty($this->settings['settings']['show_post_columns']) ) { $vwpalm4is_rglv3b97['contact_ids'] = __('Contact ID\'s'); $vwpalm4is_rglv3b97['anonymous_only'] = __('Logged Out Only'); $vwpalm4is_rglv3b97['facebook_crawler'] = __('Facebook crawler'); $vwpalm4is_rglv3b97['google_1stclick'] = __('Google First Click Free'); } } $vwpalm4is_hv784iuwp = array_merge( $vwpalm4is_hv784iuwp, $vwpalm4is_rglv3b97 ); return $vwpalm4is_hv784iuwp; } function wpalm4is_mh295784jzs($vwpalm4is_go85ajhw, $vwpalm4is_wikmdre) { switch ($vwpalm4is_go85ajhw) { case 'memb_custom_shortcode': echo '<div style="white-space:nowrap;">', '[membc_', get_post($vwpalm4is_wikmdre)->post_name, ']', '</div>'; break; case 'memb_partial_shortcode': echo '<div style="white-space:nowrap;">', '[memb_include_partial id=', $vwpalm4is_wikmdre, ']', '</div>'; break; case 'anonymous_only': $vwpalm4is_kh9vqi_6znd = get_post_meta($vwpalm4is_wikmdre, '_is4wp_anonymous_only', TRUE); if ($vwpalm4is_kh9vqi_6znd) { $vwpalm4is_ecxbw_ = '<strong style="color:green;">Yes</strong>'; $vwpalm4is_ngld2o_6 = 1; } else { $vwpalm4is_ecxbw_ = '<strong style="color:red;">No</strong>'; $vwpalm4is_ngld2o_6 = 0; } echo '<div>', $vwpalm4is_ecxbw_, '</div>';  echo '<input type="hidden" id="memb-anonymousonly-', $vwpalm4is_wikmdre, '" value="', $vwpalm4is_ngld2o_6, '">'; break; case 'contact_ids': $vwpalm4is_kh9vqi_6znd = get_post_meta($vwpalm4is_wikmdre, '_is4wp_contact_ids', true); echo '<div id="memb-contactids-' . $vwpalm4is_wikmdre . '">' . $vwpalm4is_kh9vqi_6znd . '</div>'; break; case 'facebook_crawler': $vwpalm4is_kh9vqi_6znd = get_post_meta($vwpalm4is_wikmdre, '_is4wp_facebook_crawler', true); if ($vwpalm4is_kh9vqi_6znd) { $vwpalm4is_ecxbw_ = '<strong style="color:green;">Yes</strong>'; $vwpalm4is_ngld2o_6 = 1; } else { $vwpalm4is_ecxbw_ = '<strong style="color:red;">No</strong>'; $vwpalm4is_ngld2o_6 = 0; } echo '<div>', $vwpalm4is_ecxbw_, '</div>';  echo '<input type="hidden" id="memb-facebookcrawler-', $vwpalm4is_wikmdre, '" value="', $vwpalm4is_ngld2o_6, '">'; break; case 'google_1stclick': $vwpalm4is_kh9vqi_6znd = get_post_meta($vwpalm4is_wikmdre, '_is4wp_google_1stclick', true); if ($vwpalm4is_kh9vqi_6znd) { $vwpalm4is_ecxbw_ = '<strong style="color:green;">Yes</strong>'; $vwpalm4is_ngld2o_6 = 1; } else { $vwpalm4is_ecxbw_ = '<strong style="color:red;">No</strong>'; $vwpalm4is_ngld2o_6 = 0; } echo '<div>', $vwpalm4is_ecxbw_, '</div>';  echo '<input type="hidden" id="memb-google1stclick-', $vwpalm4is_wikmdre, '" value="', $vwpalm4is_ngld2o_6, '">'; break; case 'memberships': $vwpalm4is_la4pzw = explode(',', get_post_meta($vwpalm4is_wikmdre, '_is4wp_membership_levels', true) ); $vwpalm4is_d6_q0i1tm = count($vwpalm4is_la4pzw); $vwpalm4is_i20ld1cjhy6x = array(); $vwpalm4is_h2wliptx = 0; $vwpalm4is_mo9jty81pvb = get_post_meta($vwpalm4is_wikmdre, '_is4wp_any_loggedin_user', true); $vwpalm4is_lvwb16a95z = get_post_meta($vwpalm4is_wikmdre, '_is4wp_any_membership', true); if ($vwpalm4is_d6_q0i1tm > 0) { foreach($vwpalm4is_la4pzw as $vwpalm4is_x3e6m_hobj => $vwpalm4is_mp_ceis8) { $vwpalm4is_i20ld1cjhy6x[] = $vwpalm4is_mp_ceis8; echo isset($this->settings['memberships'][$vwpalm4is_mp_ceis8]['name']) ? $this->settings['memberships'][$vwpalm4is_mp_ceis8]['name'] : ''; if (++$vwpalm4is_h2wliptx < $vwpalm4is_d6_q0i1tm) { echo ', '; } } echo '<input type="hidden" id="memb-memberships-', $vwpalm4is_wikmdre, '" value="', implode(',', $vwpalm4is_i20ld1cjhy6x), '" >'; } if ($vwpalm4is_mo9jty81pvb) { echo '<span style="white-space:nowrap;">(Any Logged In User)</span> '; } if ($vwpalm4is_lvwb16a95z) { echo '<span style="white-space:nowrap;">(Any Membership)</span> '; } break; case 'prohibited_action': $vwpalm4is_suadwy = get_post_meta($vwpalm4is_wikmdre, '_is4wp_prohibited_action', TRUE); $vwpalm4is_p7m_xw = trim(get_post_meta($vwpalm4is_wikmdre, '_is4wp_redirect_url', true) );   echo '<input type="hidden" id="memb-prohibitedaction-', $vwpalm4is_wikmdre, '" value="', $vwpalm4is_suadwy, '">'; echo '<input type="hidden" id="memb-redirecturl-', $vwpalm4is_wikmdre, '" value="', $vwpalm4is_p7m_xw, '">'; echo ucwords($vwpalm4is_suadwy), '<br />'; echo $vwpalm4is_p7m_xw, '<br />'; break; case 'tag_ids': $vwpalm4is_kh9vqi_6znd = get_post_meta($vwpalm4is_wikmdre, '_is4wp_access_tags', TRUE); echo '<div id="memb-accesstagids-', $vwpalm4is_wikmdre, '">', $vwpalm4is_kh9vqi_6znd, '</div>'; break; } } function wpalm4is_yn8rjfy($vwpalm4is_sa8g3tzfw, $vwpalm4is_xvesxnc2dk) { static $vwpalm4is_c2fl3chaqm = true; if ($vwpalm4is_c2fl3chaqm) { $vwpalm4is_c2fl3chaqm = false; wp_nonce_field(MEMBERIUM_LIB, 'memb_accesscontrol_bulkedit_nonce'); } echo '<fieldset class="inline-edit-col-right inline-edit-', $vwpalm4is_sa8g3tzfw, '">'; echo '<div class="inline-edit-col column-', $vwpalm4is_sa8g3tzfw , '">'; echo '<label class="inline-edit-group">'; switch ($vwpalm4is_sa8g3tzfw) { case 'memberships': $vwpalm4is_la4pzw = is_array($this->settings['memberships']) ? $this->settings['memberships'] : array(); $vwpalm4is_vfw38xvb = array(); foreach ($vwpalm4is_la4pzw as $vwpalm4is_x3e6m_hobj => $vwpalm4is_dghd3q20fjnl) { $vwpalm4is_vfw38xvb[] = $vwpalm4is_x3e6m_hobj; } $vwpalm4is_vfw38xvb = implode(',', $vwpalm4is_vfw38xvb); echo '<input type="hidden" name="bulkedit-membershiplist" id="bulkedit-membershiplist" value="', $vwpalm4is_vfw38xvb, '">';  if (count($vwpalm4is_la4pzw) > 0) { echo '<ul class="cat-checklist category-checklist">'; echo '<em>Membership Access</em>'; echo '<label for="memb_useexisting"><input type="checkbox" name="memb_useexisting" value="1" id="memb_useexisting"> <em>Use Existing Memberships</em></label>'; foreach ($vwpalm4is_la4pzw as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_mp_ceis8) { echo '<label for="memb_membership_level_' . $vwpalm4is_vzoj7cv_rsly . '"><input type="checkbox" name="memb_membership_level_' . $vwpalm4is_vzoj7cv_rsly . '" value="' . $vwpalm4is_vzoj7cv_rsly . '" id="memb_membership_level_' . $vwpalm4is_vzoj7cv_rsly . '"> ' . stripslashes($vwpalm4is_mp_ceis8['name']) . '</label>'; } } echo '<label for="memb_anonymousonly"><input type="checkbox" name="memb_anonymousonly" value="1" id="memb_anonymousonly"> Logged Out Only</label>'; echo '<label for="memb_anyloggedinuser"><input type="checkbox" name="memb_anyloggedinuser" value="1" id="memb_anyloggedinuser"> Any Logged In User</label>'; echo '<label for="memb_google1stclick"><input type="checkbox" name="memb_google1stclick" value="1" id="memb_google1stclick"> Google 1st Click Free</label>'; echo '<label for="memb_facebookcrawler"><input type="checkbox" name="memb_facebookcrawler" value="1" id="memb_facebookcrawler"> Facebook Crawler Access</label>'; echo '</ul>'; echo '<hr />'; echo '<label for="memb_prohibitedaction"><span class="title" style="width:75px;">Prohibited</span><select name="memb_prohibitedaction" id="memb_prohibitedaction">'; echo '<option value="default">Default</option>'; echo '<option value="redirect">Redirect</option>'; echo '<option value="hide">Hide Completely</option>'; echo '<option value="excerpt">Show Excerpt Only</option>'; echo '</select></label>'; echo '<label><span class="title" style="width:75px;">Redirect URL  </span><input type="text" name="memb_redirecturl" value="" placeholder="" id="memb_redirecturl"></label>'; break; } echo '</label></div></fieldset>'; } function wpalm4is_a743qh() { $vwpalm4is_mn2zumf = array('memb_shortcodeblocks',); if (isset($_POST['post_type']) && !in_array($_POST['post_type'], $vwpalm4is_mn2zumf) ) { return; }; if (!current_user_can('edit_post', 0) ) { return; }    }    function wpalm4is_epuwnz() { if (!current_user_can('manage_options') ) { wp_die(__('You do not have sufficient permissions to access this page.') ); } } function wpalm4is_y_f926ph() { require_once MEMBERIUM_SCREEN_DIR . 'googleanalytics.php'; } function wpalm4is_zbaz976exks4() {   } function wpalm4is_yj0c26as1me($vwpalm4is_n8wmfi) { if (! is_array($vwpalm4is_n8wmfi) || empty($vwpalm4is_n8wmfi) ) { return false; } global $wpdb; $vwpalm4is_cevdqnb5lzm = "SELECT `post_id`, `meta_value` FROM {$wpdb->postmeta} WHERE `meta_key` = '_is4wp_membership_levels' AND `meta_value` > '' "; $vwpalm4is_uviqodtg6b = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A); foreach ($vwpalm4is_uviqodtg6b as $vwpalm4is_sxkc2voun) { $vwpalm4is__q872zcnhtry = explode(',', $vwpalm4is_sxkc2voun['meta_value']); $vwpalm4is_x_w2rtshbfe = implode(',', array_diff($vwpalm4is__q872zcnhtry, $vwpalm4is_n8wmfi) ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_sxkc2voun['post_id'], 'memberships', $vwpalm4is_x_w2rtshbfe); } return true; } function wpalm4is_npk4y809() { require_once MEMBERIUM_SCREEN_DIR . 'remotefiles.php'; }  function wpalm4is_qpwy6rlcu() { $vwpalm4is_ql0mb4js6 = 'memberium::page_templates'; $vwpalm4is_w_ghw9jc0i = 'https://licenseserver.webpowerandlight.com/updates/page-templates.php';  $vwpalm4is_n0wrho_2u = get_transient($vwpalm4is_ql0mb4js6, false); $vwpalm4is_ukra4p = array(); if (is_array($vwpalm4is_n0wrho_2u) ) { $vwpalm4is_ukra4p = $vwpalm4is_n0wrho_2u; } else { $vwpalm4is_szexg1su6 = array( 'timeout' => 10, ); $vwpalm4is_n0wrho_2u = wp_remote_get($vwpalm4is_w_ghw9jc0i, $vwpalm4is_szexg1su6); if (is_a($vwpalm4is_n0wrho_2u, 'WP_Error') ) { $vwpalm4is_touz20k_mp = $vwpalm4is_n0wrho_2u->get_error_message(); if (! empty($vwpalm4is_touz20k_mp) ) { echo '<div class="notice notice-error"><h3>', print_r($vwpalm4is_touz20k_mp, true), '</h3></div>'; return; } } if (is_array($vwpalm4is_n0wrho_2u) ) { $vwpalm4is_ukra4p = json_decode($vwpalm4is_n0wrho_2u['body'], true); if (is_array($vwpalm4is_ukra4p) ) { set_transient($vwpalm4is_ql0mb4js6, $vwpalm4is_ukra4p, 3600); } } else { $vwpalm4is_ukra4p = array(); } } return $vwpalm4is_ukra4p; } function wpalm4is_bshzbjlxp9() { $vwpalm4is_hkeq3h9 = 'https://licenseserver.webpowerandlight.com/updates/email-templates.php'; $vwpalm4is_szexg1su6 = array( 'timeout' => 10, ); $vwpalm4is_w7xmt0 = wp_remote_get($vwpalm4is_hkeq3h9, $vwpalm4is_szexg1su6); if (is_a($vwpalm4is_w7xmt0, 'WP_Error') ) { $vwpalm4is_touz20k_mp = $vwpalm4is_w7xmt0->get_error_message(); if (! empty($vwpalm4is_touz20k_mp) ) { echo '<div class="notice notice-error"><h3>', print_r($vwpalm4is_touz20k_mp, true), '</h3></div>'; return; } } $vwpalm4is_w7xmt0 = json_decode($vwpalm4is_w7xmt0['body'], true); if (is_array($vwpalm4is_w7xmt0) ) { $vwpalm4is_mq3gv6sdxeu = array('Id', 'PieceTitle'); $vwpalm4is_fqzgw57 = array('PieceTitle' => 'MEMBERIUM TEMPLATE - %'); $vwpalm4is_ipsiu5tz = $this->isdk->dsQuery('Template', 1000, 0, $vwpalm4is_fqzgw57, $vwpalm4is_mq3gv6sdxeu); $vwpalm4is_jhgsqp = 0; array_walk ($vwpalm4is_ipsiu5tz, function(&$vwpalm4is_kh9vqi_6znd) { $vwpalm4is_kh9vqi_6znd['PieceTitle'] = strtolower(trim($vwpalm4is_kh9vqi_6znd['PieceTitle']) ); }); foreach($vwpalm4is_w7xmt0 as $vwpalm4is_fxavjf2) { if (is_array($vwpalm4is_ipsiu5tz) ) { $vwpalm4is_j2i0_tkn7ap = false; foreach($vwpalm4is_ipsiu5tz as $vwpalm4is_u38fgnwpy2z) { if (strtolower($vwpalm4is_u38fgnwpy2z['PieceTitle']) == strtolower($vwpalm4is_fxavjf2['pieceTitle']) ) { $vwpalm4is_j2i0_tkn7ap = true; } } if (! $vwpalm4is_j2i0_tkn7ap) {  $id = $this->isdk->addEmailTemplate( $vwpalm4is_fxavjf2['pieceTitle'], $vwpalm4is_fxavjf2['categories'], $vwpalm4is_fxavjf2['fromAddress'], $vwpalm4is_fxavjf2['toAddress'], $vwpalm4is_fxavjf2['ccAddress'], $vwpalm4is_fxavjf2['bccAddress'], $vwpalm4is_fxavjf2['subject'], $vwpalm4is_fxavjf2['textBody'], $vwpalm4is_fxavjf2['htmlBody'], $vwpalm4is_fxavjf2['contentType'], $vwpalm4is_fxavjf2['mergeContext'] ); $vwpalm4is_jhgsqp++; } } } } return $vwpalm4is_jhgsqp; } function wpalm4is_x8tx1rgoe($vwpalm4is_wikmdre, $vwpalm4is_u38fgnwpy2z) { if ($vwpalm4is_wikmdre === '') { return; } $vwpalm4is_w7xmt0 = $this->wpalm4is_qpwy6rlcu(); if (! isset($vwpalm4is_w7xmt0[$vwpalm4is_u38fgnwpy2z]) ) { return; } $vwpalm4is_fxavjf2 = $vwpalm4is_w7xmt0[$vwpalm4is_u38fgnwpy2z]; unset($vwpalm4is_w7xmt0); if ($vwpalm4is_wikmdre > 0) { $vwpalm4is_ymj0ykscw7 = get_post($vwpalm4is_wikmdre, 'ARRAY_A'); } else { $vwpalm4is_ymj0ykscw7 = array(); } if (! empty($vwpalm4is_fxavjf2['content_url']) ) { $vwpalm4is_zi96wnzyh0o = wp_remote_get($vwpalm4is_fxavjf2['content_url']); $vwpalm4is_go5160_p = array(); if (is_array($vwpalm4is_zi96wnzyh0o) ) { $vwpalm4is_go5160_p = json_decode($vwpalm4is_zi96wnzyh0o['body'], true); $vwpalm4is_fxavjf2['post']['post_content'] = $vwpalm4is_go5160_p['post']['post_content']; $vwpalm4is_fxavjf2['post']['post_excerpt'] = $vwpalm4is_go5160_p['post']['post_excerpt']; } } $vwpalm4is_sxkc2voun = array(); $vwpalm4is_sxkc2voun['ID'] = $vwpalm4is_wikmdre; $vwpalm4is_sxkc2voun['post_title'] = empty($vwpalm4is_ymj0ykscw7['post_title']) ? $vwpalm4is_fxavjf2['post']['post_title'] : $vwpalm4is_ymj0ykscw7['post_title']; $vwpalm4is_sxkc2voun['post_content'] = $vwpalm4is_fxavjf2['post']['post_content']; $vwpalm4is_sxkc2voun['post_type'] = empty($vwpalm4is_ymj0ykscw7['post_type']) ? $vwpalm4is_fxavjf2['post']['post_type'] : $vwpalm4is_ymj0ykscw7['post_type']; $vwpalm4is_sxkc2voun['post_status'] = empty($vwpalm4is_ymj0ykscw7['post_status']) ? 'draft' : $vwpalm4is_ymj0ykscw7['post_status']; $vwpalm4is_sxkc2voun['meta_input'] = $vwpalm4is_fxavjf2['meta']; $_POST['post_content'] = $vwpalm4is_sxkc2voun['post_content']; $_POST['post_excerpt'] = $vwpalm4is_sxkc2voun['post_excerpt']; remove_action('save_post', array($this, 'wpalm4is_frzn1tp') ); $foo = wp_insert_post($vwpalm4is_sxkc2voun, false); foreach($vwpalm4is_fxavjf2['meta'] as $vwpalm4is_x3e6m_hobj => $vwpalm4is_kh9vqi_6znd) { update_post_meta($vwpalm4is_wikmdre, $vwpalm4is_x3e6m_hobj, $vwpalm4is_kh9vqi_6znd); } add_action('save_post', array($this, 'wpalm4is_frzn1tp') ); }  function wpalm4is_f0n_i18($vwpalm4is_v91wqrfjsck = false) { $vwpalm4is_ql0mb4js6 = 'memberium::setup::checklist'; if (defined('MEMBERIUM_BETA') && MEMBERIUM_BETA) { delete_transient($vwpalm4is_ql0mb4js6); } $vwpalm4is_bxn8sfzkh6 = get_transient($vwpalm4is_ql0mb4js6, array() ); if (! $vwpalm4is_bxn8sfzkh6) { $vwpalm4is_n0wrho_2u = wp_remote_get('https://licenseserver.webpowerandlight.com/welcome/checklist.php'); if (! is_object($vwpalm4is_n0wrho_2u) && ! empty($vwpalm4is_n0wrho_2u['body']) ) { $vwpalm4is_bxn8sfzkh6 = json_decode($vwpalm4is_n0wrho_2u['body'], true); set_transient($vwpalm4is_ql0mb4js6, $vwpalm4is_bxn8sfzkh6, 3600); } } usort($vwpalm4is_bxn8sfzkh6, function($a, $b) { return $a['o'] - $b['o']; });  $vwpalm4is_h438bqdgczj = (array) get_option('memberium_setup_completed');  $vwpalm4is_a8f_4d7xv0yw = get_option(memberium_app()->license_key_name); $vwpalm4is_a6ajr1x_kh = wpalm4is_rvrqgfe5ns_::wpalm4is_m1ufj92cv45($vwpalm4is_a8f_4d7xv0yw); if ($vwpalm4is_a6ajr1x_kh['valid']) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('get_license', $vwpalm4is_h438bqdgczj); } unset($vwpalm4is_a6ajr1x_kh);  $vwpalm4is_vsmw53_cfzn = get_option('i2sdk'); if ($vwpalm4is_vsmw53_cfzn['server_verified']) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('configure_i2sdk', $vwpalm4is_h438bqdgczj); } unset($vwpalm4is_vsmw53_cfzn); if ($this->settings['settings']['default_page_redirect'] > '') { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('set_default_redirect', $vwpalm4is_h438bqdgczj); } if ($this->settings['settings']['show_advanced_options'] > '') { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('view_advanced', $vwpalm4is_h438bqdgczj); } if (count($this->settings['memberships']) ) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('create_membership', $vwpalm4is_h438bqdgczj); } if (! empty($this->settings['settings']['global_excerpt']) ) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('set_default_excerpt', $vwpalm4is_h438bqdgczj); } global $wpdb;  $vwpalm4is_cevdqnb5lzm = "SELECT count(*) FROM `{$wpdb->postmeta}` WHERE `meta_key` LIKE '_is4wp_%' AND `meta_value` > '0';"; $vwpalm4is_z3qlki = $wpdb->get_col();  if ($vwpalm4is_z3qlki > 0) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('protect_pages', $vwpalm4is_h438bqdgczj); } unset($vwpalm4is_cevdqnb5lzm, $vwpalm4is_z3qlki);  $vwpalm4is_cevdqnb5lzm = "SELECT count(`user_id`) FROM `{$wpdb->usermeta}` WHERE `meta_key` = 'infusionsoft_user_id';";  $vwpalm4is_z3qlki = (int) $wpdb->get_var($vwpalm4is_cevdqnb5lzm); if ($vwpalm4is_z3qlki > 0) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('1user', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 9) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('10users', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 24) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('25users', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 99) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('100users', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 499) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('500users', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 999) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('1kusers', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 2499) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('2500users', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 9999) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('10kusers', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 24999) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('25kusers', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 49999) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('50kusers', $vwpalm4is_h438bqdgczj); } if ($vwpalm4is_z3qlki > 99999) { $vwpalm4is_h438bqdgczj = memberium_app()->wpalm4is_xw91e_2pl('100kusers', $vwpalm4is_h438bqdgczj); } unset($vwpalm4is_cevdqnb5lzm, $vwpalm4is_z3qlki); update_option('memberium_setup_completed', array_filter(array_unique($vwpalm4is_h438bqdgczj) ) ); update_option('memberium_checklist', $vwpalm4is_bxn8sfzkh6);  if ($vwpalm4is_v91wqrfjsck) { foreach ($vwpalm4is_bxn8sfzkh6 as $vwpalm4is_x3e6m_hobj => $vwpalm4is_vnz9uf) { if (! isset($vwpalm4is_vnz9uf['n']) || $vwpalm4is_vnz9uf['n'] <> 1) { unset($vwpalm4is_bxn8sfzkh6[$vwpalm4is_x3e6m_hobj]); } } }  $vwpalm4is_hv784iuwp = array(); $vwpalm4is_hv784iuwp['active'] = array(); $vwpalm4is_hv784iuwp['completed'] = array(); if (is_array($vwpalm4is_bxn8sfzkh6) ) { foreach ($vwpalm4is_bxn8sfzkh6 as $vwpalm4is_vnz9uf) { $vwpalm4is_hbvroq = false; $vwpalm4is___5ukq8436o2 = false;  if (in_array($vwpalm4is_vnz9uf['k'], $vwpalm4is_h438bqdgczj) ) { $vwpalm4is_hbvroq = true; }  $vwpalm4is_zmqh7o = isset($vwpalm4is_vnz9uf['p']) ? explode(',', $vwpalm4is_vnz9uf['p']) : array(); if (empty($vwpalm4is_zmqh7o) ) { $vwpalm4is___5ukq8436o2 = true; } else { $vwpalm4is___5ukq8436o2 = (count(array_intersect($vwpalm4is_h438bqdgczj, $vwpalm4is_zmqh7o) ) > 0); }   $vwpalm4is_zmqh7o = isset($vwpalm4is_vnz9uf['r']) ? explode(',', $vwpalm4is_vnz9uf['r']) : array(); if (empty($vwpalm4is_zmqh7o) ) { $vwpalm4is_mzcufgy = false; } else { $vwpalm4is_mzcufgy = (count(array_intersect($vwpalm4is_h438bqdgczj, $vwpalm4is_zmqh7o) ) > 0); } if (! $vwpalm4is_hbvroq) { if ($vwpalm4is___5ukq8436o2) { $vwpalm4is_hv784iuwp['active'][] = $vwpalm4is_vnz9uf; } } else { if (! $vwpalm4is_mzcufgy) { $vwpalm4is_hv784iuwp['completed'][] = $vwpalm4is_vnz9uf; } } } } return $vwpalm4is_hv784iuwp; } function wpalm4is_snjfh71() {  $vwpalm4is_wd0wgi45c = $this->wpalm4is_f0n_i18(); $vwpalm4is_h438bqdgczj = (array) get_option('memberium_setup_completed'); $vwpalm4is_hv784iuwp = array(); $vwpalm4is_hv784iuwp['active'] = array(); $vwpalm4is_hv784iuwp['completed'] = array(); foreach ($vwpalm4is_wd0wgi45c as $vwpalm4is_shsuel1n3o9) { $vwpalm4is_hbvroq = false; $vwpalm4is___5ukq8436o2 = false;  if (in_array($vwpalm4is_shsuel1n3o9['k'], $vwpalm4is_h438bqdgczj) ) { $vwpalm4is_hbvroq = true; }  $vwpalm4is_zmqh7o = isset($vwpalm4is_shsuel1n3o9['p']) ? explode(',', $vwpalm4is_shsuel1n3o9['p']) : array(); if (empty($vwpalm4is_zmqh7o) ) { $vwpalm4is___5ukq8436o2 = true; } else { $vwpalm4is___5ukq8436o2 = (count(array_intersect($vwpalm4is_h438bqdgczj, $vwpalm4is_zmqh7o) ) > 0); }   $vwpalm4is_zmqh7o = isset($vwpalm4is_shsuel1n3o9['r']) ? explode(',', $vwpalm4is_shsuel1n3o9['r']) : array(); if (empty($vwpalm4is_zmqh7o) ) { $vwpalm4is_mzcufgy = false; } else { $vwpalm4is_mzcufgy = (count(array_intersect($vwpalm4is_h438bqdgczj, $vwpalm4is_zmqh7o) ) > 0); } if (! $vwpalm4is_hbvroq) { if ($vwpalm4is___5ukq8436o2) { if ($vwpalm4is_shsuel1n3o9['m'] == 'm') { $vwpalm4is_ecxbw_ = '<input type="hidden" value="0" name="' . $vwpalm4is_shsuel1n3o9['k'] . '">' . '<input name="' . $vwpalm4is_shsuel1n3o9['k'] . '" id="' . $vwpalm4is_shsuel1n3o9['k'] . '" value="1" type="checkbox"> ' . $vwpalm4is_shsuel1n3o9['t']; if ($vwpalm4is_shsuel1n3o9['l'] > 0) { $vwpalm4is_ecxbw_ .= ' - ' . wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2($vwpalm4is_shsuel1n3o9['l']); } $vwpalm4is_hv784iuwp['active'][] = $vwpalm4is_ecxbw_; } elseif ($vwpalm4is_shsuel1n3o9['m'] == 'a') { $vwpalm4is_hv784iuwp['active'][] = '<input type="checkbox"> ' . $vwpalm4is_shsuel1n3o9['t']; } } } else { if (! $vwpalm4is_mzcufgy) { $vwpalm4is_hv784iuwp['completed'][] = '<input type="checkbox" disabled="disabled" checked="checked"> ' . $vwpalm4is_shsuel1n3o9['t']; } } } return $vwpalm4is_hv784iuwp; } function wpalm4is_ggsq043ptv() { $vwpalm4is_s1s2497vu = $this->wpalm4is_f0n_i18(); echo '<form method="post" style="margin-left:25px;">'; echo '<p>Complete the checklist below to launch your site, most settings are optional since you can just use the defaults we provide but click the steps below and follow the directions on each page.</p><p>It\'s easier than you think, and you\'ll be done in no time!</p>'; echo '<div style="float:left; width:400px;">'; echo '<h3>Upcoming Tasks and Goals</h3>'; if (! empty($vwpalm4is_s1s2497vu['active']) ) { foreach ($vwpalm4is_s1s2497vu['active'] as $vwpalm4is_djf_83z5k) { if ($vwpalm4is_djf_83z5k['m'] == 'm') { echo '<p style="text-indent:-25px;margin-left:25px;"><input type="hidden" value="0" name="', $vwpalm4is_djf_83z5k['k'], '">'; echo '<input name="', $vwpalm4is_djf_83z5k['k'], '" id="', $vwpalm4is_djf_83z5k['k'], '" value="1" type="checkbox"> ', $vwpalm4is_djf_83z5k['t']; if ($vwpalm4is_djf_83z5k['l'] > 0) { echo ' ', wpalm4is_yf0g75hqk184::wpalm4is_nu0flh4y2($vwpalm4is_djf_83z5k['l']); } '</p>'; } elseif ($vwpalm4is_djf_83z5k['m'] == 'a') { echo '<p style="text-indent:-25px;margin-left:25px;"><input type="checkbox" class="automatic"> <em>' . $vwpalm4is_djf_83z5k['t'], ' <strong>*</strong></em></p>'; } } } else { echo '<p>All goals have been achieved!</p>'; } echo '</div>'; echo '<div style="float:left; width:400px; margin-left:80px;">'; echo '<h3>Completed Tasks and Goals</h3>'; if (! empty($vwpalm4is_s1s2497vu['completed']) ) { $vwpalm4is_s1s2497vu['completed'] = array_reverse($vwpalm4is_s1s2497vu['completed']); foreach ($vwpalm4is_s1s2497vu['completed'] as $vwpalm4is_djf_83z5k) { echo '<p style="text-indent:-25px;margin-left:25px;"><strike>', $vwpalm4is_djf_83z5k['t'], '</strike></p>'; } } else { echo '<p>You have no completed tasks.</p>'; } echo '</div>'; echo '<div style="clear:both;"></div>'; echo '<input type="submit" value="Mark Complete" class="button-primary"> &nbsp;&nbsp; '; echo '<p>View <a href="https://memberium.com/documentation/" target="_blank">More Documentation Online</a></p>'; echo '</form>'; echo '<p><em><strong>*</strong> Automatically detected tasks and goals</em> cannot be manually checked.</p>'; echo '<script>'; echo 'jQuery("input:checkbox.automatic").click(function() { return false; });'; echo '</script>'; } static function wpalm4is_er_tbyemf($vwpalm4is_bl7wjkn4sm) { $vwpalm4is_adqrse6gtk = array(); $vwpalm4is_b_i9anxcuqdz = 'memberium::environment_signatures';  $vwpalm4is_adqrse6gtk = get_transient($vwpalm4is_b_i9anxcuqdz); $vwpalm4is_adqrse6gtk = false; if (! is_array($vwpalm4is_adqrse6gtk) ) { $vwpalm4is_sf9tqcp3 = 'https://licenseserver.webpowerandlight.com/memberium/environment-fingerprints.php'; $vwpalm4is_a3e49htb = wp_remote_get($vwpalm4is_sf9tqcp3); if (is_array($vwpalm4is_a3e49htb) && ! empty($vwpalm4is_a3e49htb['body']) ) { $vwpalm4is_adqrse6gtk = json_decode($vwpalm4is_a3e49htb['body'], true);  foreach($vwpalm4is_adqrse6gtk as $vwpalm4is_x3e6m_hobj => $vwpalm4is_o5_we2b) { if (! empty($vwpalm4is_o5_we2b['platforms']) ) { if (false === stripos($vwpalm4is_o5_we2b['platforms'], $vwpalm4is_bl7wjkn4sm) ) { unset($vwpalm4is_adqrse6gtk[$vwpalm4is_x3e6m_hobj]); } } } set_transient($vwpalm4is_b_i9anxcuqdz, $vwpalm4is_adqrse6gtk, 12 * HOUR_IN_SECONDS); } } return $vwpalm4is_adqrse6gtk; } static function wpalm4is_jlzs8e() { $vwpalm4is_e7hec1bsu = array(); $vwpalm4is_bl7wjkn4sm = 'm4is'; if (defined('GD_VIP') && defined('REDIS_SOCKET') ) { define('GD_MANAGED_HOSTING', 1); }   $vwpalm4is_adqrse6gtk = wpalm4is_dwrme417cz::wpalm4is_er_tbyemf($vwpalm4is_bl7wjkn4sm); $vwpalm4is_uca1lvw45k = get_option('active_plugins'); $vwpalm4is_s5bqtz2a = wp_get_theme(); $vwpalm4is_s5bqtz2a = $vwpalm4is_s5bqtz2a->parent() ? $vwpalm4is_s5bqtz2a->parent() : $vwpalm4is_s5bqtz2a; foreach ($vwpalm4is_adqrse6gtk as $vwpalm4is_o5_we2b) { $vwpalm4is_j2i0_tkn7ap = false; if ($vwpalm4is_o5_we2b['type'] == 'extension') { $vwpalm4is_j2i0_tkn7ap = extension_loaded($vwpalm4is_o5_we2b['fingerprint']); } elseif ($vwpalm4is_o5_we2b['type'] == 'function') { $vwpalm4is_j2i0_tkn7ap = function_exists($vwpalm4is_o5_we2b['fingerprint']); } elseif ($vwpalm4is_o5_we2b['type'] == 'class') { $vwpalm4is_j2i0_tkn7ap = class_exists($vwpalm4is_o5_we2b['fingerprint']); } elseif ($vwpalm4is_o5_we2b['type'] == 'environment') { $vwpalm4is_j2i0_tkn7ap = isset($_SERVER[$vwpalm4is_o5_we2b['fingerprint']]); } elseif ($vwpalm4is_o5_we2b['type'] == 'theme') { $vwpalm4is_j2i0_tkn7ap = $vwpalm4is_s5bqtz2a->get_stylesheet() == $vwpalm4is_o5_we2b['fingerprint']; } elseif ($vwpalm4is_o5_we2b['type'] == 'plugin') { $vwpalm4is_j2i0_tkn7ap = in_array($vwpalm4is_o5_we2b['fingerprint'], $vwpalm4is_uca1lvw45k); } elseif ($vwpalm4is_o5_we2b['type'] == 'constant') { $vwpalm4is_j2i0_tkn7ap = defined($vwpalm4is_o5_we2b['fingerprint']); } if ($vwpalm4is_j2i0_tkn7ap) { if ($vwpalm4is_o5_we2b['class'] == 'good') { $vwpalm4is_e7hec1bsu['detected'][] = $vwpalm4is_o5_we2b; } else { $vwpalm4is_e7hec1bsu['problem'][] = $vwpalm4is_o5_we2b; } } else { if ($vwpalm4is_o5_we2b['class'] == 'good') { $vwpalm4is_e7hec1bsu['available'][] = $vwpalm4is_o5_we2b; } } } return $vwpalm4is_e7hec1bsu; }    function wpalm4is__qbsu1() { $vwpalm4is_v4c9ip7ju = $this->wpalm4is_mgevs8nbw2(); echo '<div class="wrap about-wrap">';  echo '<h3 style="font-size:225%">', _('Invalid License'), '</h3>'; echo '<p class="about-text" style="margin-bottom:-30px;padding-bottom:0px;">'; echo 'We are unable to license this site for one of the following reasons:'; echo '</p>'; echo '<ul style="margin-left:20px;">'; if (! empty($vwpalm4is_v4c9ip7ju) ) { echo '<li>Your i2SDK setup is incomplete or missing.  <a href="admin.php?page=i2sdk-admin">Click here to configure it</a>.</li>'; } else { echo '<li>The domain you installed this on does not match the domain that the license was purchased for.</li>'; echo '<li>You purchased an unlimited license but used a different Infusionsoft app or sandbox to connect to.</li>'; echo '<li>Your webhost has outbound connections to our license server blocked.</li>'; } echo '</ul>'; echo '<p>'; echo '&ndash; The Memberium Team<br />'; echo '<a href="https://memberium.com/support/" target="_blank">https://memberium.com/support/</a>'; echo '</p>'; echo '</div>'; } function wpalm4is_hy_ks4op1x3i() { memberium_app()->wpalm4is_jkrw_hjsu(); $vwpalm4is_shdt97s1o_3 = $_POST; $vwpalm4is_z82s4yho = $_SERVER; $vwpalm4is_ux_y3jt1 = new wpalm4is_q5ks8wm();   $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-tasks', 'Setup Checklist', 'checklist', array($this, 'wpalm4is_ggsq043ptv') ); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-users', 'About Memberium', 'about', array($this, 'wpalm4is_gd82ci3vp9l') ); $vwpalm4is_ux_y3jt1->wpalm4is_jgz7sywn9(MEMBERIUM_SCREEN_DIR . 'header.php'); $vwpalm4is_q7qg9evksmf0 = $vwpalm4is_ux_y3jt1->wpalm4is_e2v0q7iczl56(); if ($vwpalm4is_z82s4yho['REQUEST_METHOD'] == 'POST') { if ($vwpalm4is_q7qg9evksmf0 == 'checklist') { if (is_array($vwpalm4is_shdt97s1o_3) ) { foreach ($vwpalm4is_shdt97s1o_3 as $vwpalm4is_x3e6m_hobj => $vwpalm4is_kh9vqi_6znd) { if ($vwpalm4is_kh9vqi_6znd == '1') { memberium_app()->wpalm4is_xw91e_2pl($vwpalm4is_x3e6m_hobj); } } } } elseif ($vwpalm4is_q7qg9evksmf0 == 'updates') { wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('Updates Options Updated');  $vwpalm4is_ne17fdv8uw4 = array( 'autoupdate', ); foreach($vwpalm4is_ne17fdv8uw4 as $vwpalm4is_x3e6m_hobj) { $this->settings['settings'][$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_shdt97s1o_3[$vwpalm4is_x3e6m_hobj]) ? (int) (bool) trim($vwpalm4is_shdt97s1o_3[$vwpalm4is_x3e6m_hobj]) : $this->settings['settings'][$vwpalm4is_x3e6m_hobj]; } update_option('memberium', $this->settings);  if (! empty($vwpalm4is_shdt97s1o_3['manual_upgrade_confirm']) ) { wpalm4is_dwrme417cz::wpalm4is_rrg1bfqj3($vwpalm4is_shdt97s1o_3['manual_upgrade'], 'memberium2'); } } elseif ($vwpalm4is_q7qg9evksmf0 == 'debug' && isset($vwpalm4is_shdt97s1o_3['delete-debug']) && $vwpalm4is_shdt97s1o_3['delete-debug'] > '') { unlink(MEMBERIUM_DEBUGLOG); } } $vwpalm4is_ux_y3jt1->wpalm4is_nfgz2rt(); return; } function wpalm4is_heft4oy97ab() { memberium_app()->wpalm4is_jkrw_hjsu(); $vwpalm4is_x8lraqpx75 = MEMBERIUM_SCREEN_DIR; $vwpalm4is_ux_y3jt1 = new wpalm4is_q5ks8wm(); $vwpalm4is_shdt97s1o_3 = $_POST; $vwpalm4is_z82s4yho = $_SERVER; $vwpalm4is_ux_y3jt1->wpalm4is_jgz7sywn9('<h1>Memberium Support</h1>'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-life-ring', 'Support', 'support', array($this, 'wpalm4is_gbhkl2') ); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-tachometer-alt', 'Dashboard', 'dashboard', $vwpalm4is_x8lraqpx75 . 'starthere-dashboard-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-cogs', 'Integrations', 'integrations', $vwpalm4is_x8lraqpx75 . 'starthere-integrations-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-download', 'Updates', 'updates', $vwpalm4is_x8lraqpx75 . 'starthere-updates-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-bug', 'Debug', 'debug', array($this, 'wpalm4is_mlkoz39n') ); $vwpalm4is_q7qg9evksmf0 = $vwpalm4is_ux_y3jt1->wpalm4is_e2v0q7iczl56(); if ($vwpalm4is_z82s4yho['REQUEST_METHOD'] == 'POST') { if ($vwpalm4is_q7qg9evksmf0 == 'dashboard') { if (isset($vwpalm4is_shdt97s1o_3['save']) && $vwpalm4is_shdt97s1o_3['save'] == 'Renew License') { wpalm4is_rvrqgfe5ns_::wpalm4is_nhzlbyp(true); wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('License Updated', 'wpalm4is_jrcdf1'); } elseif (isset($vwpalm4is_shdt97s1o_3['save']) && $vwpalm4is_shdt97s1o_3['save'] == 'Re-Activate Plugin') { wpalm4is_c4al9t::wpalm4is_t2ha6gindw(); wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('System Activation Re-Run', 'wpalm4is_jrcdf1'); } elseif (isset($vwpalm4is_shdt97s1o_3['save']) && $vwpalm4is_shdt97s1o_3['save'] == 'Synchronize Infusionsoft') { $this->wpalm4is_uhxncfu2(); } elseif (isset($_GET['purge-contacts']) ) { $vwpalm4is_q35jf97eg4 = MEMBERIUM_DB_CONTACTS; $vwpalm4is_cevdqnb5lzm = "TRUNCATE `{$vwpalm4is_q35jf97eg4}` "; $vwpalm4is_m7k0qh3 = $wpdb->query($vwpalm4is_cevdqnb5lzm); wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('Local Contact Database Purged', 'wpalm4is_jrcdf1'); update_option('memberium', $this->settings); } } elseif ($vwpalm4is_q7qg9evksmf0 == 'updates') { wpalm4is_yf0g75hqk184::wpalm4is_in62ibjlx('Updates Options Updated');  $vwpalm4is_ne17fdv8uw4 = array( 'autoupdate', ); foreach($vwpalm4is_ne17fdv8uw4 as $vwpalm4is_x3e6m_hobj) { $this->settings['settings'][$vwpalm4is_x3e6m_hobj] = isset($vwpalm4is_shdt97s1o_3[$vwpalm4is_x3e6m_hobj]) ? (int) (bool) trim($vwpalm4is_shdt97s1o_3[$vwpalm4is_x3e6m_hobj]) : $this->settings['settings'][$vwpalm4is_x3e6m_hobj]; } update_option('memberium', $this->settings);  if (! empty($vwpalm4is_shdt97s1o_3['manual_upgrade_confirm']) ) { wpalm4is_dwrme417cz::wpalm4is_rrg1bfqj3($vwpalm4is_shdt97s1o_3['manual_upgrade'], 'memberium2'); } } elseif ($vwpalm4is_q7qg9evksmf0 == 'debug' && isset($vwpalm4is_shdt97s1o_3['delete-debug']) && $vwpalm4is_shdt97s1o_3['delete-debug'] > '') { unlink(MEMBERIUM_DEBUGLOG); } } $vwpalm4is_ux_y3jt1->wpalm4is_nfgz2rt(); } function wpalm4is_c3z6n549hiab() { memberium_app()->wpalm4is_jkrw_hjsu(); $vwpalm4is_x8lraqpx75 = MEMBERIUM_SCREEN_DIR; $vwpalm4is_ux_y3jt1 = new wpalm4is_q5ks8wm(); $vwpalm4is_ux_y3jt1->wpalm4is_jgz7sywn9('<h3 style="font-size:200%;">Memberium Settings</h3>'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-users', 'Logins', 'logins', $vwpalm4is_x8lraqpx75 . 'options-login-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-file', 'Content Protection', 'content', $vwpalm4is_x8lraqpx75 . 'options-content-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-unlock-alt', 'Page Handling', 'pagehandling', $vwpalm4is_x8lraqpx75 . 'options-pagehandling-show.php'); if (! empty($this->settings['settings']['multi_language']) ) { $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-language', 'Language', 'language', $vwpalm4is_x8lraqpx75 . 'options-language-show.php'); } $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-sitemap', 'Pages', 'pages', $vwpalm4is_x8lraqpx75 . 'options-pages-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-shield-alt', 'Security', 'security', $vwpalm4is_x8lraqpx75 . 'options-sitesecurity-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-rocket', 'Performance', 'performance', $vwpalm4is_x8lraqpx75 . 'options-performance-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-plug', 'Extensions', 'extensions', $vwpalm4is_x8lraqpx75 . 'options-extensions-show.php'); $vwpalm4is_ux_y3jt1->wpalm4is_cdgmrvopf1q6('fa fa-exchange-alt', 'HTTP Posts/Links', 'httppost', $vwpalm4is_x8lraqpx75 . 'options-httppost-show.php'); $current_tab = $vwpalm4is_ux_y3jt1->wpalm4is_e2v0q7iczl56(); include MEMBERIUM_SCREEN_DIR . 'options.php'; $vwpalm4is_ux_y3jt1->wpalm4is_nfgz2rt(); } function wpalm4is_sto_n2hv05c() { require_once MEMBERIUM_SCREEN_DIR . 'sync.php'; } function wpalm4is_phyj4bf17gi() { require_once MEMBERIUM_SCREEN_DIR . 'memberships.php'; } function wpalm4is_o_tjogfubaic() { require_once MEMBERIUM_SCREEN_DIR . 'ecommerce.php'; } function wpalm4is_ke5jpk9og0() { require_once MEMBERIUM_SCREEN_DIR . 'wpcourseware.php'; } function wpalm4is_h0vcyobj() { include_once MEMBERIUM_SCREEN_DIR . 'logs.php'; } function wpalm4is_jptecb() { if (!current_user_can('manage_options') ) { wp_die(__('You do not have sufficient permissions to access this page.') ); }   echo '<div class="wrap">'; echo '<h1>', _('Memberium Add-Ons and Marketplace'), '</h1>'; echo '<h3 class="nav-tab-wrapper">Subtitle</h3>'; echo '</div>'; echo '<div>'; if (! empty($vwpalm4is_f2yx8k) && is_array($vwpalm4is_f2yx8k) ) { foreach($vwpalm4is_f2yx8k as $vwpalm4is_fc2pb3n1lgoy) { } } echo '<div>'; }    function wpalm4is_gd82ci3vp9l() { echo wpalm4is_yf0g75hqk184::wpalm4is_chwfbm('credits'); } function wpalm4is_gbhkl2() { echo wpalm4is_yf0g75hqk184::wpalm4is_chwfbm('support'); } function wpalm4is_mlkoz39n() { require_once MEMBERIUM_SCREEN_DIR . 'support-debug.php'; }     function wpalm4is_ti6ujl($vwpalm4is_i_9bnys2c4) { echo '<h2>Memberium Access Controls</h2>'; echo '<p>', __FUNCTION__, '</p>'; echo __LINE__, ' @ ', __FUNCTION__, ' in ' . basename(__FILE__), '<br>'; }  function wpalm4is_mvr7x3ks2a($vwpalm4is_agvwtn, $vwpalm4is_i_9bnys2c4 = '') { echo __LINE__, ' @ ', __FUNCTION__, ' in ' . basename(__FILE__), '<br>'; }  function wpalm4is_l28q146d($vwpalm4is_gjeim2_v, $vwpalm4is_rz25um) { echo __LINE__, ' @ ', __FUNCTION__, ' in ' . basename(__FILE__), '<br>'; }  function wpalm4is_fe5mofstgu($vwpalm4is_gjeim2_v, $vwpalm4is_rz25um) { echo __LINE__, ' @ ', __FUNCTION__, ' in ' . basename(__FILE__), '<br>'; } function wpalm4is_g3gnzfrcxu($vwpalm4is_agvwtn) { if (is_a($vwpalm4is_agvwtn, 'WP_Term') ) { echo __LINE__, ' @ ', __FUNCTION__, ' in ' . basename(__FILE__), '<br>'; } }     function wpalm4is__x_z8ia9o5g2($vwpalm4is_n_bsw6d3x) { require_once MEMBERIUM_SCREEN_DIR . 'user-edit.php'; } function wpalm4is_pdivoc($vwpalm4is_tcon6xrp) { global $wpdb; $vwpalm4is_shdt97s1o_3 = $_POST; if (! current_user_can('manage_options') ) { return; } $vwpalm4is_n_bsw6d3x = get_user_by('id', $vwpalm4is_tcon6xrp); $vwpalm4is_s13i75n4ph = (int) memberium_app()->wpalm4is_ild4oyu($vwpalm4is_n_bsw6d3x->user_email); $vwpalm4is_jbucldi1t7q = memberium_app()->wpalm4is_pvab9fqcm($vwpalm4is_tcon6xrp ); $vwpalm4is_g4n3bwgst5 = strtolower(trim($vwpalm4is_n_bsw6d3x->login) ); $vwpalm4is_gi649h = isset($vwpalm4is_shdt97s1o_3['new_emailaddress']) ? strtolower(trim($vwpalm4is_shdt97s1o_3['new_emailaddress']) ) : $vwpalm4is_g4n3bwgst5; $vwpalm4is_r0v4_r = strtolower(trim($vwpalm4is_n_bsw6d3x->user_email) ); $vwpalm4is_dqxgbdfu9 = strtolower(trim($vwpalm4is_shdt97s1o_3['email']) );  $vwpalm4is_qehzqp3r5l4 = isset($vwpalm4is_shdt97s1o_3['memberium_private_comments']) ? (int) (bool) $vwpalm4is_shdt97s1o_3['memberium_private_comments'] : 0;  update_user_meta($vwpalm4is_tcon6xrp, 'memberium_private_comments', $vwpalm4is_qehzqp3r5l4);  if (! empty ($vwpalm4is_shdt97s1o_3['updated_tags']) ) { memberium_app()->wpalm4is_yp5awiqcv($vwpalm4is_shdt97s1o_3['updated_tags'], $vwpalm4is_s13i75n4ph); }   if (! empty($vwpalm4is_dqxgbdfu9) && ($vwpalm4is_r0v4_r <> $vwpalm4is_dqxgbdfu9) || ($vwpalm4is_dqxgbdfu9 <> $vwpalm4is_n_bsw6d3x->user_login) ) { $vwpalm4is_hqlb_swpu = ! empty($vwpalm4is_shdt97s1o_3['memb_update_email_confirm']); if ($vwpalm4is_s13i75n4ph) { memberium_app()->wpalm4is_m0poxmrk5shj($vwpalm4is_tcon6xrp, $vwpalm4is_dqxgbdfu9, $vwpalm4is_s13i75n4ph, $vwpalm4is_hqlb_swpu); } $vwpalm4is_shdt97s1o_3['email'] = $vwpalm4is_dqxgbdfu9; }    if (empty($this->settings['settings']['local_auth_only']) ) { if ($vwpalm4is_shdt97s1o_3['pass1'] > '' && $vwpalm4is_shdt97s1o_3['pass1'] === $vwpalm4is_shdt97s1o_3['pass2']) { $vwpalm4is_s13i75n4ph = (int) memberium_app()->wpalm4is_ild4oyu($vwpalm4is_shdt97s1o_3['email']); if ($vwpalm4is_s13i75n4ph > 0) { $vwpalm4is_guh4pc3x = array( $this->settings['settings']['password_field'] => $vwpalm4is_shdt97s1o_3['pass1'], ); $this->isdk->updatecon($vwpalm4is_s13i75n4ph, $vwpalm4is_guh4pc3x);  memberium_app()->wpalm4is_kfhs9u7mp0o4($vwpalm4is_s13i75n4ph); } } } if (! empty($vwpalm4is_shdt97s1o_3['memberium_sync']) && $vwpalm4is_shdt97s1o_3['memberium_sync'] == 'Re-Synchronize Contact') { global $i2sdk, $wpdb; $table_name = MEMBERIUM_DB_CONTACTS;  $vwpalm4is_cevdqnb5lzm = "SELECT `id` FROM `{$table_name}` WHERE `appname` = %s AND `fieldname` = 'email' and `value` = %s "; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $this->appname, $vwpalm4is_shdt97s1o_3['email']); $vwpalm4is_kmqnwo6cu5 = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A); $vwpalm4is_ls4zde = array(); foreach ($vwpalm4is_kmqnwo6cu5 as $row) { $vwpalm4is_ls4zde[] = $row['id']; } if (count($vwpalm4is_ls4zde) > 0) { $vwpalm4is_ls4zde = implode(',', $vwpalm4is_ls4zde); $vwpalm4is_cevdqnb5lzm = "DELETE FROM `{$table_name}` WHERE `appname` = %s AND `id` IN ({$vwpalm4is_ls4zde}) "; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $this->appname); $vwpalm4is_ukra4p = $wpdb->query($vwpalm4is_cevdqnb5lzm); }  memberium_app()->wpalm4is_t07nk42($vwpalm4is_n_bsw6d3x->user_email); delete_user_meta( (int)$vwpalm4is_shdt97s1o_3['user_id'], 'infusionsoft_user_id'); $vwpalm4is_s13i75n4ph = memberium_app()->wpalm4is_ild4oyu($vwpalm4is_n_bsw6d3x->user_email); if ($vwpalm4is_s13i75n4ph > 0) { memberium_app()->wpalm4is_hxtm0jb9s($vwpalm4is_s13i75n4ph, $vwpalm4is_shdt97s1o_3['user_id']); } else { if (MEMBERIUM_DEBUG) { } delete_user_meta( (int)$vwpalm4is_shdt97s1o_3['user_id'], 'infusionsoft_user_id');  $vwpalm4is_ls4zde = array(); $vwpalm4is_cevdqnb5lzm = "SELECT `id` FROM `{$table_name}` WHERE `appname` = %s AND `fieldname` = 'email' and `value` = %s "; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $this->appname, $vwpalm4is_shdt97s1o_3['email']); $vwpalm4is_kmqnwo6cu5 = $wpdb->get_results($vwpalm4is_cevdqnb5lzm, ARRAY_A); foreach ($vwpalm4is_kmqnwo6cu5 as $row) { $vwpalm4is_ls4zde[] = $row['id']; } if (count($vwpalm4is_ls4zde) > 0) { $vwpalm4is_ls4zde = implode(',', $vwpalm4is_ls4zde); $vwpalm4is_cevdqnb5lzm = "DELETE FROM `{$table_name}` WHERE `appname` = %s AND `id` IN ({$vwpalm4is_ls4zde}) "; $vwpalm4is_cevdqnb5lzm = $wpdb->prepare($vwpalm4is_cevdqnb5lzm, $this->appname); $vwpalm4is_ukra4p = $wpdb->query($vwpalm4is_cevdqnb5lzm); } } } }  function wpalm4is_bh09xzn($vwpalm4is_gtyqfor0c8ib = '', $vwpalm4is_itc61n3zpfd7 = array(), $vwpalm4is_avl5zr0x2 = '', $vwpalm4is_g87myl0d = array() ) { if (empty($vwpalm4is_itc61n3zpfd7) || empty($vwpalm4is_gtyqfor0c8ib) ) { return; } if (! is_array($vwpalm4is_avl5zr0x2) ) { $vwpalm4is_avl5zr0x2 = explode(',', $vwpalm4is_avl5zr0x2); } $vwpalm4is_vx_n8e7hdrbo = array( 'autofocus' => false, 'class' => '', 'disabled' => false, 'case_sensitive' => false, 'echo' => true, 'form' => '', 'id' => $vwpalm4is_gtyqfor0c8ib, 'multiple' => false, 'required' => false, 'size' => 1, 'style' => '', ); $vwpalm4is_g87myl0d = wp_parse_args($vwpalm4is_g87myl0d, $vwpalm4is_vx_n8e7hdrbo); $vwpalm4is_biblegoq6c = '<input type="hidden" name="' . $vwpalm4is_gtyqfor0c8ib . '" value=" ">'; $vwpalm4is_biblegoq6c .= '<select name="' . $vwpalm4is_gtyqfor0c8ib . '" '; if ($vwpalm4is_g87myl0d['autofocus']) { $vwpalm4is_biblegoq6c .= ' autofocus="autofocus"'; } if ($vwpalm4is_g87myl0d['disabled']) { $vwpalm4is_biblegoq6c .= ' disabled="disabled"'; } if ($vwpalm4is_g87myl0d['multiple']) { $vwpalm4is_biblegoq6c .= ' multiple="multiple"'; } if ($vwpalm4is_g87myl0d['required']) { $vwpalm4is_biblegoq6c .= ' required="required"'; } if ($vwpalm4is_g87myl0d['size']) { $vwpalm4is_biblegoq6c .= ' size="' . (int) $vwpalm4is_g87myl0d['size'] . '"'; } if (! empty($vwpalm4is_g87myl0d['class']) ) { $vwpalm4is_biblegoq6c .= ' class="' . $vwpalm4is_g87myl0d['class'] . '"'; } if (! empty($vwpalm4is_g87myl0d['style']) ) { $vwpalm4is_biblegoq6c .= ' style="' . $vwpalm4is_g87myl0d['style'] . '"'; } if (! empty($vwpalm4is_g87myl0d['form']) ) { $vwpalm4is_biblegoq6c .= ' form="' . $vwpalm4is_g87myl0d['form'] . '"'; } if (! empty($vwpalm4is_g87myl0d['id']) ) { $vwpalm4is_biblegoq6c .= ' id="' . $vwpalm4is_g87myl0d['id'] . '"'; } $vwpalm4is_biblegoq6c .= ' size="' . $vwpalm4is_g87myl0d['size'] . '">'; foreach($vwpalm4is_itc61n3zpfd7 as $vwpalm4is_kh9vqi_6znd => $vwpalm4is_tbz0wc5kj37) { $vwpalm4is_gn5r9l1ip4km = false; foreach($vwpalm4is_avl5zr0x2 as $vwpalm4is__f83lodeqp45) { if ($vwpalm4is_g87myl0d['case_sensitive']) { $vwpalm4is_gn5r9l1ip4km = $vwpalm4is_gn5r9l1ip4km || (bool) ($vwpalm4is_kh9vqi_6znd == $vwpalm4is__f83lodeqp45); } else { $vwpalm4is_gn5r9l1ip4km = $vwpalm4is_gn5r9l1ip4km || (bool) (0 === strcasecmp($vwpalm4is_kh9vqi_6znd, $vwpalm4is__f83lodeqp45) ); } } $vwpalm4is_biblegoq6c .= '<option value="' . $vwpalm4is_kh9vqi_6znd . '" ' . ($vwpalm4is_gn5r9l1ip4km ? ' selected="selected" ' : '') . '>' . $vwpalm4is_tbz0wc5kj37 . '</option>'; } $vwpalm4is_biblegoq6c .= '</select>'; if ($vwpalm4is_g87myl0d['echo']) { echo "\n\n", $vwpalm4is_biblegoq6c, "\n\n"; } else { return "\n\n" . $vwpalm4is_biblegoq6c . "\n\n"; } } static function wpalm4is_zu5rxbask09() { global $wp_roles; $vwpalm4is_qstn5y3x4k = array(); foreach($wp_roles->roles as $role) { foreach($role['capabilities'] as $k => $v) { $vwpalm4is_qstn5y3x4k[] = $k; } } $vwpalm4is_qstn5y3x4k = array_unique($vwpalm4is_qstn5y3x4k); sort($vwpalm4is_qstn5y3x4k); return $vwpalm4is_qstn5y3x4k; }  function wpalm4is_ltue6o30() { if (! current_user_can('edit_posts') && ! current_user_can('edit_others_posts') ) { return; } $vwpalm4is_shdt97s1o_3 = $_POST;  $vwpalm4is_o129ri5k_a = (! empty($vwpalm4is_shdt97s1o_3['memb_anonymousonly']) ) ? (int) $vwpalm4is_shdt97s1o_3['memb_anonymousonly'] : 0; $vwpalm4is_mo9jty81pvb = (! empty($vwpalm4is_shdt97s1o_3['memb_anyloggedinuser']) ) ? (int) $vwpalm4is_shdt97s1o_3['memb_anyloggedinuser'] : 0; $vwpalm4is_aw2hz9lb6 = (! empty($vwpalm4is_shdt97s1o_3['memb_facebookcrawler']) ) ? (int) $vwpalm4is_shdt97s1o_3['memb_facebookcrawler'] : 0; $vwpalm4is__c891fnmb = (! empty($vwpalm4is_shdt97s1o_3['memb_google1stclick']) ) ? (int) $vwpalm4is_shdt97s1o_3['memb_google1stclick'] : 0; $vwpalm4is_pr8_ucow9jsf = (! empty($vwpalm4is_shdt97s1o_3['post_ids']) ) ? $vwpalm4is_shdt97s1o_3['post_ids'] : array(); $vwpalm4is_duvnm30b1z6 = (! empty($vwpalm4is_shdt97s1o_3['memb_prohibitedaction']) ) ? $vwpalm4is_shdt97s1o_3['memb_prohibitedaction'] : 'default'; $vwpalm4is_p7m_xw = (! empty($vwpalm4is_shdt97s1o_3['memb_redirecturl']) ) ? trim($vwpalm4is_shdt97s1o_3['memb_redirecturl']) : ''; $vwpalm4is_gm5x7lwc3 = (! empty($vwpalm4is_shdt97s1o_3['memb_useexisting']) ) ? 1 : 0; if ($vwpalm4is_o129ri5k_a == 1) { $vwpalm4is_shdt97s1o_3['memb_memberships'] = ''; } else { $vwpalm4is_j526hi7k1 = (isset($vwpalm4is_shdt97s1o_3['memb_memberships']) && ! empty($vwpalm4is_shdt97s1o_3['memb_memberships']) ) ? $vwpalm4is_shdt97s1o_3['memb_memberships'] : ''; } if (! empty($vwpalm4is_shdt97s1o_3['memb_memberships']) ) { } foreach ($vwpalm4is_pr8_ucow9jsf as $vwpalm4is_wikmdre) { if (current_user_can('edit_post', $vwpalm4is_wikmdre) ) { $vwpalm4is_gu2xh6_jz73q = array( 'prohibited_action' => $vwpalm4is_duvnm30b1z6, 'redirect_url' => $vwpalm4is_p7m_xw, 'facebook_crawler' => $vwpalm4is_aw2hz9lb6, 'google_1st_click' => $vwpalm4is__c891fnmb, ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, $vwpalm4is_gu2xh6_jz73q);  if (! $vwpalm4is_gm5x7lwc3) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'memberships', $vwpalm4is_j526hi7k1);  if (! empty($vwpalm4is_shdt97s1o_3['memb_memberships']) ) { $vwpalm4is_gu2xh6_jz73q = array( 'anonymous_only' => $vwpalm4is_o129ri5k_a, 'any_loggedin_user' => $vwpalm4is_mo9jty81pvb, 'any_membership' => '', 'memberships' => $vwpalm4is_j526hi7k1, ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, $vwpalm4is_gu2xh6_jz73q); } else { $vwpalm4is_gu2xh6_jz73q = array( 'anonymous_only' => $vwpalm4is_o129ri5k_a, 'any_loggedin_user' => $vwpalm4is_mo9jty81pvb, 'any_membership' => '', ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, $vwpalm4is_gu2xh6_jz73q); } } else { } } else { } } } function wpalm4is_gswqmjdc() { global $post;  $vwpalm4is_ougfb1hd = get_post_meta($post->ID); $vwpalm4is_iomhdlzi73g5 = array( 'access_tags' => '_is4wp_access_tags', 'access_tags2' => '_is4wp_access_tags2', 'anonymous_only' => '_is4wp_anonymous_only', 'any_membership' => '_is4wp_any_membership', 'contact_ids' => '_is4wp_contact_ids', 'facebook_crawler' => '_is4wp_facebook_crawler', 'google_1stclick' => '_is4wp_google_1stclick', 'hide_completely' => '_is4wp_hide_completely', 'logged_in' => '_is4wp_any_loggedin_user', 'membership_levels' => '_is4wp_membership_levels', 'prohibited_action' => '_is4wp_prohibited_action', 'redirect_url' => '_is4wp_redirect_url', 'is4wp_can_comment' => '_is4wp_can_comment', '_is4wp_commenter_tag' => '_is4wp_commenter_tag', '_is4wp_commenter_action' => '_is4wp_commenter_action', '_is4wp_commenter_goal' => '_is4wp_commenter_goal', '_is4wp_hide_from_menu' => '_is4wp_hide_from_menu', 'is4wp_private_comments' => '_is4wp_private_comments', 'is4wp_force_public' => '_is4wp_force_public', 'is4wp_discourage_cache' => '_is4wp_discourage_cache', ); foreach ($vwpalm4is_iomhdlzi73g5 as $vwpalm4is_o3i4xhbq7 => $vwpalm4is_c8qado) { if (isset($vwpalm4is_ougfb1hd[$vwpalm4is_c8qado][0]) ) { $vwpalm4is_p536eja[$vwpalm4is_o3i4xhbq7] = $vwpalm4is_ougfb1hd[$vwpalm4is_c8qado][0]; } else { $vwpalm4is_p536eja[$vwpalm4is_o3i4xhbq7] = ''; } } unset($vwpalm4is_ougfb1hd);  if ($vwpalm4is_p536eja['hide_completely'] == 1) { $vwpalm4is_p536eja['prohibited_action'] = 'hide'; } if ($vwpalm4is_p536eja['prohibited_action'] == '') { if ($this->settings['settings']['default_prohibited_action'] > '') { $vwpalm4is_p536eja['prohibited_action'] = $this->settings['settings']['default_prohibited_action']; } } wp_nonce_field(MEMBERIUM_LIB, 'memberium_membershipaccess_nonce'); if ($this->settings['settings']['page_inheritance'] && $post->post_parent > 0) { echo '<p style="color:red;text-align:center;"><strong>Inherits Access from the <a href="post.php?post=', $post->post_parent, '&action=edit">Parent Page</a></strong></p>'; } echo '<div class="memb_access_options">'; echo '<input type="checkbox" name="is4wp_anymembership" id="is4wp_anymembership" value="1" ', ($vwpalm4is_p536eja['any_membership'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_anymembership">', _e('Any Membership Level', 'memberium'), '</label><br />';  $vwpalm4is_j526hi7k1 = explode(',', $vwpalm4is_p536eja['membership_levels']); if (isset($this->settings['memberships']) && is_array($this->settings['memberships']) ) { foreach ($this->settings['memberships'] as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_mp_ceis8) { echo '<input type="checkbox" class="memberium_membership_checkbox" name="is4wp_membership_levels[' . $vwpalm4is_vzoj7cv_rsly . ']" value="' . $vwpalm4is_vzoj7cv_rsly . '" id="is4wp_membership_' . $vwpalm4is_vzoj7cv_rsly . '" ' . (in_array($vwpalm4is_vzoj7cv_rsly, $vwpalm4is_j526hi7k1) ? ' checked="checked" ' : '') . '>&nbsp;<label class="memberium_membership_checkbox" for="is4wp_membership_' . $vwpalm4is_vzoj7cv_rsly . '">' . stripslashes($vwpalm4is_mp_ceis8['name']) . '&nbsp;(' . $vwpalm4is_mp_ceis8['level'] . ')</label><br />'; } } echo '</div>'; echo '<hr />'; if ($this->settings['settings']['site_lock_enabled']) { echo '<input type="checkbox" name="is4wp_force_public" id="is4wp_force_public" value="1" ', ($vwpalm4is_p536eja['is4wp_force_public'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_force_public">', _e('Force Public', 'memberium'), '</label><br />'; } echo '<div class="memb_access_options">'; echo '<input type="checkbox" name="is4wp_loggedin" id="is4wp_loggedin" value="1" ', ($vwpalm4is_p536eja['logged_in'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_loggedin">', _e('Any Logged In User', 'memberium'), '</label><br />'; echo '<input type="checkbox" name="is4wp_anonymous_only" id="is4wp_anonymous_only" value="1" ', ($vwpalm4is_p536eja['anonymous_only'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_anonymous_only">', _e('Logged Out Only', 'memberium'), '</label><br />'; echo '<label for="is4wp_contact_ids">' . _e("Require Contact ID's", 'memberium') . '</label>'; echo '<textarea name="is4wp_contact_ids" rows="1" style="width:100%; max-width:100%">' . ($vwpalm4is_p536eja['contact_ids'] > '' ? $vwpalm4is_p536eja['contact_ids'] : '') . '</textarea>'; echo '<label for="is4wp_access_tags">' . _e("Require Tag ID&#39;s", 'memberium') . '</label> '; echo '<input type="text" name="is4wp_access_tags" value="' . ($vwpalm4is_p536eja['access_tags'] > '' ? $vwpalm4is_p536eja['access_tags'] : '') . '" class="tag-selector" style="width:100%; max-width:100%">'; echo '<label for="is4wp_access_tags2">' . _e("AND Require Tag ID&#39;s", 'memberium') . '</label> '; echo '<input type="text" name="is4wp_access_tags2" value="' . ($vwpalm4is_p536eja['access_tags2'] > '' ? $vwpalm4is_p536eja['access_tags2'] : '') . '" class="tag-selector" style="width:100%; max-width:100%">'; echo '</div>'; echo '<hr />'; echo '<input type="checkbox" name="is4wp_hide_from_menu" id="is4wp_hide_from_menu" value="1" ', ($vwpalm4is_p536eja['_is4wp_hide_from_menu'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_hide_from_menu">', _e('Hide from Menus', 'memberium'), '</label><br />'; echo '<div class="memb_access_options">'; echo '<input type="checkbox" name="is4wp_google_1stclick" id="is4wp_google_1stclick" value="1" ', ($vwpalm4is_p536eja['google_1stclick'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_google_1stclick">', _e('Google 1st Click Free', 'memberium'), '</label><br />'; echo '<input type="checkbox" name="is4wp_facebook_crawler" id="is4wp_facebook_crawler" value="1" ', ($vwpalm4is_p536eja['facebook_crawler'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_facebook_crawler">', _e('Facebook Crawler Access', 'memberium'), '</label><br />'; echo '</div>'; echo '<hr />'; echo '<div class="memb_access_options">'; echo _e('When Prohibited', 'memberium'), ': <select id="is4wp_prohibited_action" name="is4wp_prohibited_action">'; $vwpalm4is_jkd5plhf0y = array(); if ($this->settings['settings']['default_prohibited_action'] > '') { $vwpalm4is_jkd5plhf0y['default'] = 'Site Default (' . ucwords($this->settings['settings']['default_prohibited_action']) . ')'; } $vwpalm4is_jkd5plhf0y['hide'] = 'Hide Completely'; if (post_type_supports($post->post_type, 'excerpt') ) { $vwpalm4is_jkd5plhf0y['excerpt'] = 'Show Excerpt Only'; } $vwpalm4is_jkd5plhf0y['redirect'] = 'Redirect'; foreach ($vwpalm4is_jkd5plhf0y as $vwpalm4is_kh9vqi_6znd => $vwpalm4is_tbz0wc5kj37) { $vwpalm4is_gn5r9l1ip4km = $vwpalm4is_p536eja['prohibited_action'] == $vwpalm4is_kh9vqi_6znd ? 'selected="selected"' : ''; echo '<option value="' . $vwpalm4is_kh9vqi_6znd . '" ' . $vwpalm4is_gn5r9l1ip4km . '>' . $vwpalm4is_tbz0wc5kj37 . '</option>'; } echo '</select><br />'; echo '</div>'; echo '<div class="memb_redirect_options">'; echo '<label for="is4wp_redirect_url">' . _e('Redirect URL', 'memberium') . '</label> '; $vwpalm4is_ekiyrc4 = ($this->settings['settings']['default_page_redirect'] > '' ? 'Default Redirect to ' . $this->settings['settings']['default_page_redirect'] : 'Leave blank for sitewide default'); echo '<input type="text" id="is4wp_redirect_url" name="is4wp_redirect_url" style="width:100%; max-width:100%" rows="1" value="', $vwpalm4is_p536eja['redirect_url'], '" placeholder="', $vwpalm4is_ekiyrc4, '">'; echo '</div>';  if (post_type_supports($post->post_type, 'comments') ) { echo '<p style="margin-top:20px;"><strong>Advanced Comment Functions</strong></p>'; echo '<input type="hidden" name="is4wp_private_comments" value="0">'; echo '<input type="checkbox" name="is4wp_private_comments" id="is4wp_private_comments" value="1" ', ($vwpalm4is_p536eja['is4wp_private_comments'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_private_comments">', _e('Private Commenting', 'memberium'), '</label><br />'; echo '<label for="is4wp_can_comment">' . _e("Enable Comments if Tag Present", 'memberium') . '</label> '; echo '<input type="text" name="is4wp_can_comment" value="' . ($vwpalm4is_p536eja['is4wp_can_comment'] > '' ? $vwpalm4is_p536eja['is4wp_can_comment'] : '') . '" class="tag-selector" style="width:100%; max-width:100%">'; echo '<label for="_is4wp_commenter_tag">' . _e("Apply Tags on Comment", 'memberium') . '</label> '; echo '<input type="text" name="_is4wp_commenter_tag" value="' . ($vwpalm4is_p536eja['_is4wp_commenter_tag'] > '' ? $vwpalm4is_p536eja['_is4wp_commenter_tag'] : '') . '" class="tag-selector" style="width:100%; max-width:100%">'; echo '<label for="_is4wp_commenter_goal">' . _e("Achieve Goal on Comment", 'memberium') . '</label> '; echo '<input type="text" name="_is4wp_commenter_goal" style="width:100%; max-width:100%" value="' . ($vwpalm4is_p536eja['_is4wp_commenter_goal'] > '' ? $vwpalm4is_p536eja['_is4wp_commenter_goal'] : '') . '">'; echo '<label for="_is4wp_commenter_action">' . _e("Run Actionset on Comment", 'memberium') . '</label> '; echo '<select class="actionset-selector" name="_is4wp_commenter_action" style="width:100%; max-width:100%">'; echo '<option value="0">(No Actions)</option>'; $vwpalm4is_l6ih20yjwm = memberium_app()->wpalm4is_nko9d6hy8c(); if (is_array($vwpalm4is_l6ih20yjwm) ) { foreach ($vwpalm4is_l6ih20yjwm as $vwpalm4is_nlh58m=>$vwpalm4is_govdmylcgq52) { echo '<option value="', $vwpalm4is_nlh58m, '" ', ($vwpalm4is_p536eja['_is4wp_commenter_action'] == $vwpalm4is_nlh58m ? ' selected="selected" ' : '') , '>', $vwpalm4is_govdmylcgq52, '</option>'; } } unset($vwpalm4is_l6ih20yjwm, $vwpalm4is_nlh58m, $vwpalm4is_govdmylcgq52); echo '</select>'; } echo '<p>'; echo '<input type="hidden" name="is4wp_discourage_cache" value="0">'; echo '<input type="checkbox" name="is4wp_discourage_cache" id="is4wp_discourage_cache" value="1" ', ($vwpalm4is_p536eja['is4wp_discourage_cache'] == 1 ? ' checked="checked" ' : ''), '> <label for="is4wp_discourage_cache">', _e('Discourage Caching', 'memberium'), '</label><br />'; echo '</p>'; } function wpalm4is_rwntfv6x($vwpalm4is_wikmdre) {  if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) { return; } $vwpalm4is_shdt97s1o_3 = $_POST;  if (empty($vwpalm4is_shdt97s1o_3['memberium_membershipaccess_nonce']) || ! wp_verify_nonce($vwpalm4is_shdt97s1o_3['memberium_membershipaccess_nonce'], MEMBERIUM_LIB) ) { return; }  if (! empty($vwpalm4is_shdt97s1o_3['post_type']) && 'page' == $vwpalm4is_shdt97s1o_3['post_type']) { if (! current_user_can('edit_pages', $vwpalm4is_wikmdre) ) { return; } } else { if (! current_user_can('edit_posts', $vwpalm4is_wikmdre) ) { return; } } $vwpalm4is_shdt97s1o_3['is4wp_discourage_cache'] = isset($vwpalm4is_shdt97s1o_3['is4wp_discourage_cache']) ? $vwpalm4is_shdt97s1o_3['is4wp_discourage_cache'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_access_tags'] = isset($vwpalm4is_shdt97s1o_3['is4wp_access_tags']) ? $vwpalm4is_shdt97s1o_3['is4wp_access_tags'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_access_tags2'] = isset($vwpalm4is_shdt97s1o_3['is4wp_access_tags2']) ? $vwpalm4is_shdt97s1o_3['is4wp_access_tags2'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_anonymous_only'] = isset($vwpalm4is_shdt97s1o_3['is4wp_anonymous_only']) ? $vwpalm4is_shdt97s1o_3['is4wp_anonymous_only'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_anymembership'] = isset($vwpalm4is_shdt97s1o_3['is4wp_anymembership']) ? $vwpalm4is_shdt97s1o_3['is4wp_anymembership'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_contact_ids'] = isset($vwpalm4is_shdt97s1o_3['is4wp_contact_ids']) ? $vwpalm4is_shdt97s1o_3['is4wp_contact_ids'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_facebook_crawler'] = isset($vwpalm4is_shdt97s1o_3['is4wp_facebook_crawler']) ? $vwpalm4is_shdt97s1o_3['is4wp_facebook_crawler'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_force_public'] = isset($vwpalm4is_shdt97s1o_3['is4wp_force_public']) ? $vwpalm4is_shdt97s1o_3['is4wp_force_public'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_google_1stclick'] = isset($vwpalm4is_shdt97s1o_3['is4wp_google_1stclick']) ? $vwpalm4is_shdt97s1o_3['is4wp_google_1stclick'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_hide_completely'] = isset($vwpalm4is_shdt97s1o_3['is4wp_hide_completely']) ? $vwpalm4is_shdt97s1o_3['is4wp_hide_completely'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_hide_from_menu'] = isset($vwpalm4is_shdt97s1o_3['is4wp_hide_from_menu']) ? $vwpalm4is_shdt97s1o_3['is4wp_hide_from_menu'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_loggedin'] = isset($vwpalm4is_shdt97s1o_3['is4wp_loggedin']) ? $vwpalm4is_shdt97s1o_3['is4wp_loggedin'] : 0; $vwpalm4is_shdt97s1o_3['is4wp_prohibited_action'] = isset($vwpalm4is_shdt97s1o_3['is4wp_prohibited_action']) ? $vwpalm4is_shdt97s1o_3['is4wp_prohibited_action'] : ''; $vwpalm4is_shdt97s1o_3['is4wp_redirect_url'] = isset($vwpalm4is_shdt97s1o_3['is4wp_redirect_url']) ? trim($vwpalm4is_shdt97s1o_3['is4wp_redirect_url']) : ''; if ($vwpalm4is_shdt97s1o_3['is4wp_anymembership'] == 0) { $vwpalm4is_shdt97s1o_3['is4wp_membership_levels'] = isset($vwpalm4is_shdt97s1o_3['is4wp_membership_levels']) ? $vwpalm4is_shdt97s1o_3['is4wp_membership_levels'] : array(); } else { $vwpalm4is_shdt97s1o_3['is4wp_membership_levels'] = array(); } if (isset($vwpalm4is_shdt97s1o_3['is4wp_private_comments']) ) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'private_comments', $vwpalm4is_shdt97s1o_3['is4wp_private_comments']); } if (isset($vwpalm4is_shdt97s1o_3['is4wp_can_comment']) ) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'can_comment', $vwpalm4is_shdt97s1o_3['is4wp_can_comment']); } if (isset($vwpalm4is_shdt97s1o_3['_is4wp_commenter_tag']) ) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'commenter_tag', $vwpalm4is_shdt97s1o_3['_is4wp_commenter_tag']); } if (isset($vwpalm4is_shdt97s1o_3['_is4wp_commenter_action']) ) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'commenter_action', $vwpalm4is_shdt97s1o_3['_is4wp_commenter_action']); } if (isset($vwpalm4is_shdt97s1o_3['_is4wp_commenter_goal']) ) { wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'commenter_goal', $vwpalm4is_shdt97s1o_3['_is4wp_commenter_goal']); } if ( (int)$vwpalm4is_shdt97s1o_3['is4wp_anonymous_only'] == 1) { $vwpalm4is_shdt97s1o_3['is4wp_membership_levels'] = ''; } $vwpalm4is_j526hi7k1 = implode(',', (array) $vwpalm4is_shdt97s1o_3['is4wp_membership_levels']); $vwpalm4is_gu2xh6_jz73q = array( 'access_tags' => $vwpalm4is_shdt97s1o_3['is4wp_access_tags'], 'access_tags2' => $vwpalm4is_shdt97s1o_3['is4wp_access_tags2'], 'anonymous_only' => (int) $vwpalm4is_shdt97s1o_3['is4wp_anonymous_only'], 'any_loggedin_user' => (int) $vwpalm4is_shdt97s1o_3['is4wp_loggedin'], 'any_membership' => $vwpalm4is_shdt97s1o_3['is4wp_anymembership'], 'contact_ids' => $vwpalm4is_shdt97s1o_3['is4wp_contact_ids'], 'discourage_cache' => (int) $vwpalm4is_shdt97s1o_3['is4wp_discourage_cache'], 'facebook_crawler' => (int) $vwpalm4is_shdt97s1o_3['is4wp_facebook_crawler'], 'force_public' => (int) $vwpalm4is_shdt97s1o_3['is4wp_force_public'], 'google_1st_click' => (int) $vwpalm4is_shdt97s1o_3['is4wp_google_1stclick'], 'hide_from_menu' => (int) $vwpalm4is_shdt97s1o_3['is4wp_hide_from_menu'], 'memberships' => $vwpalm4is_j526hi7k1, 'prohibited_action' => $vwpalm4is_shdt97s1o_3['is4wp_prohibited_action'], 'redirect_url' => $vwpalm4is_shdt97s1o_3['is4wp_redirect_url'], ); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, $vwpalm4is_gu2xh6_jz73q); delete_post_meta($vwpalm4is_wikmdre, '_is4wp_hide_completely'); return; } function wpalm4is_f7e1cm95t($vwpalm4is_sa8g3tzfw, $vwpalm4is_xvesxnc2dk) { static $vwpalm4is_cl5xj39_pe = TRUE; if ($vwpalm4is_cl5xj39_pe) { $vwpalm4is_cl5xj39_pe = FALSE; wp_nonce_field(MEMBERIUM_LIB, 'memb_accesscontrol_quickedit_nonce'); } echo '<fieldset class="inline-edit-col-right inline-edit-', $vwpalm4is_sa8g3tzfw, '">'; echo '<div class="inline-edit-col column-', $vwpalm4is_sa8g3tzfw, '">'; echo '<label class="inline-edit-group">'; switch ($vwpalm4is_sa8g3tzfw) { case 'memberships': $vwpalm4is_la4pzw = empty($this->settings['memberships']) ? array() : $this->settings['memberships']; if (count($vwpalm4is_la4pzw) > 0) {  echo '<ul>'; echo '<em>Membership Access</em>'; foreach ($vwpalm4is_la4pzw as $vwpalm4is_vzoj7cv_rsly => $vwpalm4is_mp_ceis8) { echo '<label for="memb_membership_' . $vwpalm4is_vzoj7cv_rsly . '"><input type="checkbox" name="memb_membership_levels[' . $vwpalm4is_vzoj7cv_rsly . ']" value="' . $vwpalm4is_vzoj7cv_rsly . '" id="memb_membership_' . $vwpalm4is_vzoj7cv_rsly . '"> ' . stripslashes($vwpalm4is_mp_ceis8['name']) . '</label>'; } echo '<label for="memb_anonymousonly"><input type="checkbox" name="memb_anonymousonly" value="1" id="memb_anonymousonly">Logged Out Only</label>'; echo '<label for="memb_google1stclick"><input type="checkbox" name="memb_google1stclick" value="1" id="memb_google1stclick">Google 1st Click Free</label>'; echo '<label for="memb_facebookcrawler"><input type="checkbox" name="memb_facebookcrawler" value="1" id="memb_facebookcrawler">Facebook Crawler Access</label>'; echo '</ul>'; echo '<hr />'; echo '<label><span class="title" style="width:75px;">Prohibited</span><select name="memb_prohibitedaction" id="memb_prohibitedaction">'; echo '<option value="default">Default</option>'; echo '<option value="redirect">Redirect</option>'; echo '<option value="hide">Hide Completely</option>'; echo '<option value="excerpt">Show Excerpt Only</option>'; echo '</select></label>'; echo '<label><span class="title" style="width:75px;">Redirect URL  </span><input type="text" name="memb_redirecturl" value="" placeholder="" id="memb_redirecturl"></label>'; } break; } echo '</label></div></fieldset>'; } function wpalm4is_ltbjp5_yz() { $vwpalm4is_shdt97s1o_3 = $_POST; if (!isset($vwpalm4is_shdt97s1o_3['memb_accesscontrol_quickedit_nonce']) || !wp_verify_nonce($vwpalm4is_shdt97s1o_3['memb_accesscontrol_quickedit_nonce'], MEMBERIUM_LIB) ) { return; } if (! current_user_can('edit_posts') && ! current_user_can('edit_others_posts') ) { return; } $vwpalm4is_wikmdre = (int) $vwpalm4is_shdt97s1o_3['ID']; if ($vwpalm4is_wikmdre > 0 && current_user_can('edit_post', $vwpalm4is_wikmdre) ) { $vwpalm4is_shdt97s1o_3['memb_facebookcrawler'] = isset($vwpalm4is_shdt97s1o_3['memb_facebookcrawler']) ? $vwpalm4is_shdt97s1o_3['memb_facebookcrawler'] : 0; $vwpalm4is_shdt97s1o_3['memb_google1stclick'] = isset($vwpalm4is_shdt97s1o_3['memb_google1stclick']) ? $vwpalm4is_shdt97s1o_3['memb_google1stclick'] : 0; $vwpalm4is_shdt97s1o_3['memb_anonymousonly'] = isset($vwpalm4is_shdt97s1o_3['memb_anonymousonly']) ? $vwpalm4is_shdt97s1o_3['memb_anonymousonly'] : 0; $vwpalm4is_shdt97s1o_3['memb_membership_levels'] = isset($vwpalm4is_shdt97s1o_3['memb_membership_levels']) ? $vwpalm4is_shdt97s1o_3['memb_membership_levels'] : ''; $vwpalm4is_shdt97s1o_3['memb_redirecturl'] = isset($vwpalm4is_shdt97s1o_3['memb_redirecturl']) ? trim($vwpalm4is_shdt97s1o_3['memb_redirecturl']) : '';  if ( (int)$vwpalm4is_shdt97s1o_3['memb_anonymousonly'] == 1) { $vwpalm4is_shdt97s1o_3['memb_membership_levels'] = ''; } if ($vwpalm4is_shdt97s1o_3['memb_prohibitedaction'] != 'redirect') { $vwpalm4is_shdt97s1o_3['memb_redirecturl'] = ''; } $vwpalm4is_j526hi7k1 = implode(',', (array) $vwpalm4is_shdt97s1o_3['memb_membership_levels']);  wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'anonymous_only', $vwpalm4is_shdt97s1o_3['memb_anonymousonly']); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'google_1st_click', $vwpalm4is_shdt97s1o_3['memb_google1stclick']); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'facebook_crawler', $vwpalm4is_shdt97s1o_3['memb_facebookcrawler']); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'memberships', $vwpalm4is_j526hi7k1); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'prohibited_action', $vwpalm4is_shdt97s1o_3['memb_prohibitedaction']); wpalm4is_icnysx85::wpalm4is_jtivslw($vwpalm4is_wikmdre, 'redirect_url', $vwpalm4is_shdt97s1o_3['memb_redirecturl']); delete_post_meta($vwpalm4is_wikmdre, '_is4wp_hide_completely'); } }  function wpalm4is_sdyojz7gvpqt() { return; echo '<p>Hello World</p>'; global $i2sdk;   return; } function wpalm4is_ql39mpz($vwpalm4is_o_6p9tyav) { return; if ($vwpalm4is_o_6p9tyav == 'add-new-user') { ?>
				<table class="form-table">
					<tr>
						<th scope="row">Add to CRM</th>
						<td>
							<input type="checkbox" name="add_to_crm" id="add_to_crm" value="1" checked="checked" />
							<label for="add_to_crm">Add the new user to Infusionsoft.</label>
						</td>
					</tr>
				</table>

			<?php
 } } function wpalm4is_d0_sp5at9im($user_id) { return; if (MEMBERIUM_DEBUG) { echo $user_id, '<P>'; echo '<pre>', print_r($_POST, true), '</pre>'; die(); } } private $settings; private $notices; private $core; private $license_status; private $i2sdk; private $isdk; private $appname; private $non_enhanced_post_types = array(); private $public_post_types = array(); private $advanced_mode = false; private $preview_mode = false; private $minimum_i2sdk_version = 3.55;         }
