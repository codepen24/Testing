/*! 
 * BuddyPress for Learndash JavaScript Library 
 * @package BuddyPress for Learndash 
 */!function(a){function b(){if(a(".course-inner section.entry .caption").length){var b=a(".course.type-sfwd-courses").width()/a(".course.type-sfwd-courses").parent().width()*100;b<=50&&b>33?a(".course-inner section.entry .caption").equalHeightGrid(2):b<=33&&b>25?a(".course-inner section.entry .caption").equalHeightGrid(3):b<=25&&b>20?a(".course-inner section.entry .caption").equalHeightGrid(4):b<=20&&b>0&&a(".course-inner section.entry .caption").equalHeightGrid(5)}}function c(a,b){if("string"!=typeof a||""==a||"undefined"==typeof b||""==b)return"";for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==b)return e[1]}return!1}a.fn.generateMoreLink=function(b){var c=a.extend({},a.fn.generateMoreLink.defaults,b);return this.each(function(){var b=a(this),d=b.html();if(d.length>c.showChar){var e=d.substr(0,c.showChar),f=d.substr(c.showChar,d.length-c.showChar),g=e+'<span class="moreellipses">'+c.ellipsesText+'&nbsp;</span><span class="morecontent"><span>'+f+'</span>&nbsp;&nbsp;<a href="" class="morelink">'+c.moreText+"</a></span>";b.html(g)}})},a.fn.generateMoreLink.defaults={showChar:bossLdVars.showchar,ellipsesText:"...",moreText:bossLdVars.seemore,lessText:bossLdVars.seeless},a(".course-inner .course-short-description").generateMoreLink(),a.fn.equalHeight=function(){var b=[];return a.each(this,function(c,d){var e,f=a(d),g="border-box"===f.css("box-sizing")||"border-box"===f.css("-moz-box-sizing");e=g?f.innerHeight():f.height(),b.push(e)}),this.css("height",Math.max.apply(window,b)+15+"px"),this},a.fn.equalHeightGrid=function(b){var c=this.filter(":visible");c.css("height","auto");for(var d=0;d<c.length;d++)if(d%b===0){for(var e=a(c[d]),f=1;f<b;f++)e=e.add(c[d+f]);e.equalHeight()}return this},a.fn.detectGridColumns=function(){var b=0,c=0,d=this.filter(":visible");return d.each(function(d,e){var f=a(e).offset().top;return(0===b||f===b)&&(c++,void(b=f))}),c};var d=0;a.fn.responsiveEqualHeightGrid=function(){function b(){var a=c.detectGridColumns();c.equalHeightGrid(a)}var c=this,e=".grids_"+d;return c.data("grids-event-namespace",e),a(window).bind("resize"+e+" load"+e,b),b(),d++,this},a.fn.responsiveEqualHeightGridDestroy=function(){var b=this;return b.css("height","auto"),a(window).unbind(b.data("grids-event-namespace")),this},a(document).ready(function(){b(),a(window).resize(function(){clearTimeout(a.data(this,"resizeTimer")),a.data(this,"resizeTimer",setTimeout(function(){b()},1e3))}),a("#left-menu-toggle").click(function(){setTimeout(function(){b()},550)}),a(window).trigger("resize");var c=a("#course-video").find("iframe"),d=c.attr("src");a("#show-video").click(function(b){b.preventDefault(),a(".course-header").fadeOut(200,function(){a("#course-video").fadeIn(200)}),a(this).addClass("hide")}),a("#hide-video").click(function(b){b.preventDefault(),a("#course-video").fadeOut(200,function(){c.attr("src",""),a(".course-header").fadeIn(200,function(){c.attr("src",d)})}),a("#show-video").removeClass("hide")}),a(".boss-edu-send-message-widget").on("click",function(b){b.preventDefault(),a.post(ajaxurl,{action:"boss_edu_contact_teacher_ajax",content:a(".boss-edu-teacher-message").val(),sender_id:a(".boss-edu-msg-sender-id").val(),reciever_id:a(".boss-edu-msg-receiver-id").val(),course_id:a(".boss-edu-msg-course-id").val()},function(b){b.length>0&&"Failed"!=b&&(a(".boss-edu-teacher-message").val(""),a(".widget_course_teacher h3").append('<div class="learndash-message tick">'+bossLdVars.messagesent+"</div>"))})}),a(".learndash_profile_quiz_heading").each(function(){var b=a(this),c=[],d=0;b.find("div").each(function(){c.push(a(this).text())}),b.nextAll().children().each(function(){a(this).attr("data-heading",c[d]),d++,5==d&&(d=0)})}),$single_box=a(".course.type-sfwd-courses,.course.sfwd-lessons"),"undefined"!=typeof $single_box&&$single_box.parent().is("div.row")&&$single_box.unwrap("div.row")}),a(".wpProQuiz_questionInput[type=radio], .wpProQuiz_questionInput[type=checkbox]").each(function(){var b=a(this);1==b.attr("checked")?b.parents("label").addClass("selected"):b.parents("label").removeClass("selected")}),a(".wpProQuiz_questionInput[type=radio], .wpProQuiz_questionInput[type=checkbox]").each(function(){var b=a(this);b.hasClass("styled")||(b.addClass("styled"),0===b.next("label").length&&0===b.next("strong").length&&b.after("<strong></strong>"))}),a(".wpProQuiz_questionInput").change(function(){"radio"==a(this).attr("type")?(a(this).parents(".wpProQuiz_questionList").find(".wpProQuiz_questionListItem").each(function(){a(this).find("label").removeClass("selected")}),a(this).parent("label").addClass("selected")):"checkbox"==a(this).attr("type")&&a(this).parent("label").toggleClass("selected")}),a(".wpProQuiz_results").on("click",'input[name="restartQuiz"]',function(){a(".wpProQuiz_questionInput[type=radio], .wpProQuiz_questionInput[type=checkbox]").each(function(){var b=a(this);b.parents("label").removeClass("selected")})}),a(".drop-list").click(function(){var b=a(this).parents(".has-topics");b.find(".learndash_topic_dots").slideToggle(),b.toggleClass("expanded")}),a(".learndash-see-more-participants a").click(function(b){b.preventDefault();var c=a("ul.learndash-course-participants-list"),d=a(this),e=+d.attr("data-course_id"),f=+d.attr("data-total"),g=+d.attr("data-paged"),h=+d.attr("data-number");total_pg=Math.ceil(f/h),a.post(ajaxurl,{action:"boss_edu_paged_course_participants",course_id:e,paged:g,number:h},function(a){c.fadeOut(100,function(){c.append(a),c.fadeIn(100),d.attr("data-paged",++g),total_pg<g&&d.remove()})})}),a(".ld-course-list-content").on("click",".morelink",function(c){c.preventDefault();var d=a(this);return d.hasClass("less")?(d.removeClass("less"),d.html(bossLdVars.seemore)):(d.addClass("less"),d.html(bossLdVars.seeless)),d.parent().prev().toggle(),d.prev().toggle(),b(),!1}),a(document).ajaxComplete(function(d,e,f){var g=c(f.data,"action");"undefined"!=typeof g&&"ld_course_list_shortcode_pager"==g&&setTimeout(function(){a(".course-inner .course-short-description").generateMoreLink(),b(),a(window).trigger("resize")},500)})}(jQuery);